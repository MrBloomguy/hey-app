"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1368],{91368:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var l=a(65723),r=a(77862),t=a(3817),d=a(36018),n=a(24465),i=a(61372),c=a(22155),o=a(10026),m=a(84865);let x=e=>{let{currentAccount:s}=(0,m.E)(),[a,l]=(0,c.useState)([]);return(0,c.useEffect)(()=>{if(!e){l([]);return}(0,o.A)({limit:10,profile_id:null==s?void 0:s.id,query:e}).then(e=>{l((null!=e?e:[]).map(e=>({displayHandle:"/".concat(e.handle),handle:e.handle,id:e.id,name:e.name,picture:e.logo})).slice(0,5))})},[e]),a},u=e=>{let{club:s,onSelect:a}=e;return(0,l.jsx)("div",{className:"m-0 p-0",children:(0,l.jsxs)(i.KX,{className:"focusable-dropdown-item m-1.5 flex cursor-pointer items-center space-x-2 rounded-lg px-3 py-1 dark:text-white",onSelect:a,children:[(0,l.jsx)(t._V,{alt:s.handle,className:"size-7 rounded-full border bg-gray-200 dark:border-gray-700",height:"28",src:s.picture,width:"28"}),(0,l.jsxs)("div",{className:"flex flex-col truncate",children:[(0,l.jsx)("span",{children:s.name}),(0,l.jsx)("span",{className:"text-xs",children:s.displayHandle})]})]})})},h=()=>{let e=(0,n.hG)(),[s,a]=(0,c.useState)(""),t=x(s),o=s=>{e.commands.insertMention({id:s.id.toString(),kind:"club",value:s.displayHandle}),e.commands.insertText({text:" "})};return(0,l.jsx)(i.sU,{className:(0,d.A)("z-10 block w-52 rounded-xl border bg-white p-0 shadow-sm dark:border-gray-700 dark:bg-gray-900",0===t.length&&"hidden"),offset:10,onQueryChange:a,regex:r.D.club,children:(0,l.jsx)(i.JK,{className:"divide-y dark:divide-gray-700",filter:null,children:t.map(e=>(0,l.jsx)(u,{club:e,onSelect:()=>o(e)},e.id))})})};var p=a(23666);let g=e=>{let{emoji:s,onSelect:a}=e;return(0,l.jsx)(i.KX,{className:"focusable-dropdown-item m-1 block cursor-pointer rounded-lg p-2 outline-none",onSelect:a,children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-base",children:s.emoji}),(0,l.jsx)("span",{className:"text-sm capitalize",children:s.aliases[0].split("_").join(" ")})]})})},j=()=>{let e=(0,n.hG)(),[s,a]=(0,c.useState)(""),t=(0,p.A)(s),o=s=>{e.commands.insertText({text:s.emoji})};return(0,l.jsx)(i.sU,{className:(0,d.A)("z-10 w-52 select-none rounded-xl border bg-white shadow-sm dark:border-gray-700 dark:bg-gray-900",0===t.length&&"hidden"),offset:10,onQueryChange:a,regex:r.D.emoji,children:(0,l.jsx)(i.JK,{filter:null,children:t.map(e=>(0,l.jsx)(g,{emoji:e,onSelect:()=>o(e)},e.emoji))})})};var b=a(53106),f=a(92973),y=a(78219);let k=e=>{let{children:s,disabled:a=!1,onClick:r,pressed:d,tooltip:n}=e;return(0,l.jsx)(t.m_,{content:n,placement:"top",children:(0,l.jsx)("button",{className:"flex items-center justify-center rounded-lg bg-transparent p-2 hover:bg-gray-100 data-[state=on]:bg-gray-200 dark:data-[state=on]:bg-gray-700 dark:hover:bg-gray-800","data-state":d?"on":"off",disabled:a,type:"button",onClick:()=>null==r?void 0:r(),onMouseDown:e=>e.preventDefault(),children:s})})},N=()=>{let e=(0,n.hG)({update:!0});return(0,l.jsxs)(y.R,{className:"z-10 flex space-x-1 rounded-xl border bg-white shadow-sm dark:border-gray-800 dark:bg-gray-900",children:[(0,l.jsx)(k,{disabled:!e.commands.toggleBold.canApply(),onClick:()=>e.commands.toggleBold(),pressed:e.marks.bold.isActive(),tooltip:"Bold",children:(0,l.jsx)(b.A,{className:"size-4"})}),(0,l.jsx)(k,{disabled:!e.commands.toggleItalic.canApply(),onClick:()=>e.commands.toggleItalic(),pressed:e.marks.italic.isActive(),tooltip:"Italic",children:(0,l.jsx)(f.A,{className:"size-4"})})]})};var v=a(96230),w=a(63080),A=a(70922),S=a(97002),z=a(29883),C=a(14834);let _=e=>{let[s,a]=(0,c.useState)([]),[l]=(0,C.AdH)();return(0,c.useEffect)(()=>{if(!e){a([]);return}l({variables:{request:{limit:C.gTn.Fifty,query:e}}}).then(e=>{let{data:s}=e,l=null==s?void 0:s.searchProfiles,r=null==l?void 0:l.items;a((null!=r?r:[]).map(e=>({displayHandle:(0,S.A)(e).slugWithPrefix,handle:(0,S.A)(e).slug,id:null==e?void 0:e.id,name:(0,S.A)(e).displayName,picture:(0,z.A)(e),pqScore:e.stats.lensClassifierScore||0})).slice(0,5).sort((e,s)=>{let a=(0,A.A)(e.id)?1:0,l=(0,A.A)(s.id)?1:0;return a!==l?l-a:s.pqScore-e.pqScore}))})},[e,l]),s},H=e=>{let{onSelect:s,account:a}=e;return(0,l.jsx)("div",{className:"m-0 p-0",children:(0,l.jsxs)(i.KX,{className:"focusable-dropdown-item m-1.5 flex cursor-pointer items-center space-x-2 rounded-lg px-3 py-1 dark:text-white",onSelect:s,children:[(0,l.jsx)(t._V,{alt:a.handle,className:"size-7 rounded-full border bg-gray-200 dark:border-gray-700",height:"28",src:a.picture,width:"28"}),(0,l.jsxs)("div",{className:"flex flex-col truncate",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,l.jsx)("span",{children:a.name}),(0,l.jsx)(w.A,{id:a.id,iconClassName:"size-4"}),(0,l.jsx)(v.A,{id:a.id,iconClassName:"size-4"})]}),(0,l.jsx)("span",{className:"text-xs",children:a.displayHandle})]})]})})},K=()=>{let e=(0,n.hG)(),[s,a]=(0,c.useState)(""),t=_(s),o=s=>{e.commands.insertMention({id:s.id.toString(),kind:"profile",value:s.handle}),e.commands.insertText({text:" "})};return(0,l.jsx)(i.sU,{className:(0,d.A)("z-10 block w-52 rounded-xl border bg-white p-0 shadow-sm dark:border-gray-700 dark:bg-gray-900",0===t.length&&"hidden"),offset:10,onQueryChange:a,regex:r.D.mention,children:(0,l.jsx)(i.JK,{className:"divide-y dark:divide-gray-700",filter:null,children:t.map(e=>(0,l.jsx)(H,{onSelect:()=>o(e),account:e},e.id))})})},D=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{}),(0,l.jsx)(K,{}),(0,l.jsx)(h,{}),(0,l.jsx)(j,{})]})}}]);