"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1492],{91492:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(65723),l=t(45199),r=t(19429),i=t(80979),n=t(17603),o=t(22155);let d=o.forwardRef(function(e,a){let{title:t,titleId:s,...l}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},l),t?o.createElement("title",{id:s},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))});var c=t(3817),m=t(36018),u=t(78135),p=t(24165),h=t(38700),g=t(68059),x=t(42798);let v=Object.values(u.sL),f=Object.values(u.T0),j=["video/mp4","video/mpeg","video/ogg","video/webm","video/quicktime"],b=()=>{let{attachments:e,isUploading:a}=(0,x.c)(e=>e),{handleUploadAttachments:t}=(0,g.A)(),[u,b]=(0,o.useState)(!1),w=(0,o.useId)(),y=(0,p.W3)(()=>{b(!1)}),N=e=>{let a=[...v,...f,...j];for(let t of e)if(a.includes(t.type))return!0;return!1},k=a=>{var t;return(null===(t=a[0])||void 0===t?void 0:t.type.slice(0,5))==="image"?e.length+a.length<=4:1===a.length},A=async e=>{e.preventDefault(),b(!1);try{let{files:a}=e.target;if(!k(a))return h.Ay.error("Exceeded max limit of 1 audio, or 1 video, or 4 images");if(!N(a))return h.Ay.error("File format not allowed.");await t(a),e.target.value=""}catch(e){return h.Ay.error("Something went wrong while uploading!")}},_=()=>{let a=e[0]&&"Image"!==e[0].type,t=!a&&e.length>=4;return a||t},C=e.length>0;return(0,s.jsx)(c.m_,{content:"Media",placement:"top",children:(0,s.jsxs)(r.W1,{as:"div",children:[(0,s.jsx)(r.IU,{"aria-label":"More",className:"rounded-full outline-offset-8",onClick:()=>b(!u),children:a?(0,s.jsx)(c.y$,{size:"sm"}):(0,s.jsx)(i.A,{className:"size-5"})}),(0,s.jsx)(l.A,{show:u,children:(0,s.jsxs)(r.c,{className:"absolute z-[5] mt-2 rounded-xl border bg-white py-1 shadow-sm focus:outline-none dark:border-gray-700 dark:bg-gray-900",ref:y,static:!0,children:[(0,s.jsxs)(r.Dr,{as:"label",className:e=>{let{focus:a}=e;return(0,m.A)({"dropdown-active":a},{"opacity-50":_()},"menu-item !flex cursor-pointer items-center gap-1 space-x-1 rounded-lg")},disabled:_(),htmlFor:"image_".concat(w),children:[(0,s.jsx)(i.A,{className:"size-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Upload image(s)"}),(0,s.jsx)("input",{accept:v.join(","),className:"hidden",disabled:_(),id:"image_".concat(w),multiple:!0,onChange:A,type:"file"})]}),(0,s.jsxs)(r.Dr,{as:"label",className:e=>{let{focus:a}=e;return(0,m.A)({"dropdown-active":a},{"opacity-50":C},"menu-item !flex cursor-pointer items-center gap-1 space-x-1 rounded-lg")},disabled:C,htmlFor:"video_".concat(w),children:[(0,s.jsx)(n.A,{className:"size-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Upload video"}),(0,s.jsx)("input",{accept:j.join(","),className:"hidden",disabled:C,id:"video_".concat(w),onChange:A,type:"file"})]}),(0,s.jsxs)(r.Dr,{as:"label",className:e=>{let{focus:a}=e;return(0,m.A)({"dropdown-active":a},{"opacity-50":C},"menu-item !flex cursor-pointer items-center gap-1 space-x-1 rounded-lg")},disabled:C,htmlFor:"audio_".concat(w),children:[(0,s.jsx)(d,{className:"size-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Upload audio"}),(0,s.jsx)("input",{accept:f.join(","),className:"hidden",disabled:C,id:"audio_".concat(w),onChange:A,type:"file"})]})]})})]})})}}}]);