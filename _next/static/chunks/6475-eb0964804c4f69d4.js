"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6475],{38206:(e,s,i)=>{i.d(s,{A:()=>f});var t=i(65723),l=i(20305),a=i(76014),r=i(85933),n=i(60698),o=i(65244),d=i(18195),c=i(3817),u=i(22155),h=i(21811),m=i(14834),x=i(38700),v=i(4180);let p=(0,v.Ik)({reason:(0,v.Yj)().min(5,{message:"Reason should be at least 5 characters"})}),j=e=>{let{report:s,setShowDisputeModal:i}=e,[l,{loading:a}]=(0,m.ZSo)(),n=(0,c.Lk)({schema:p}),o=async e=>{let{reason:t}=e;try{var a;await l({variables:{request:{reason:t,reportedPublicationId:null===(a=s.reportedPublication)||void 0===a?void 0:a.id,reporter:s.reporter.id}}}),i(!1),n.reset(),x.Ay.success("Disputed")}catch(e){(0,h.A)(e)}};return(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"max-w-md space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.H5,{children:"Reason"}),(0,t.jsx)("div",{className:"text-sm",children:s.reason})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.H5,{children:"Subreason"}),(0,t.jsx)("div",{className:"text-sm",children:s.subreason})]}),s.additionalInfo?(0,t.jsxs)("div",{children:[(0,t.jsx)(c.H5,{children:"Additional info"}),(0,t.jsx)("div",{className:"text-sm",children:s.additionalInfo})]}):null,(0,t.jsxs)("div",{children:[(0,t.jsx)(c.H5,{children:"Reported at"}),(0,t.jsx)("div",{className:"text-sm",children:(0,d.A)(s.createdAt,"MMM D, YYYY - hh:mm:ss A")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.H5,{children:"Reported by"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(r.A,{account:s.reporter})})]})]}),(0,t.jsx)("div",{className:"divider my-5"}),(0,t.jsxs)(c.lV,{className:"space-y-4",form:n,onSubmit:o,children:[(0,t.jsx)(c.fs,{label:"Why are you disputing this report?",placeholder:"This should clearly articulate the grounds for disagreement with the original report.",...n.register("reason"),rows:5}),(0,t.jsx)(c.$n,{className:"w-full",disabled:a,children:"Dispute"})]})]})},f=e=>{var s;let{hideViewReportsButton:i=!1,report:h}=e,[m,x]=(0,u.useState)(!1),[v,p]=(0,u.useState)(!1);return(0,t.jsxs)("div",{className:"m-5 flex flex-wrap items-center justify-between gap-y-3",children:[(0,t.jsxs)("div",{className:"max-w-md",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Reason:"})," ",h.reason]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Subreason:"})," ",h.subreason]}),h.additionalInfo?(0,t.jsxs)("div",{className:"line-clamp-1",title:h.additionalInfo,children:[(0,t.jsx)("b",{children:"Additional info:"})," ",h.additionalInfo]}):null,(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Reported at:"})," ",(0,d.A)(h.createdAt,"MMM D, YYYY - hh:mm:ss A")]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(r.A,{account:h.reporter})})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-3",children:[i?null:(0,t.jsx)(c.$n,{icon:(0,t.jsx)(n.A,{className:"size-4"}),onClick:()=>x(!0),outline:!0,size:"sm",children:"View other reports"}),(0,t.jsx)(c.aF,{onClose:()=>x(!1),show:m,size:"md",title:"Reports",children:(0,t.jsx)(l.A,{postId:null===(s=h.reportedPublication)||void 0===s?void 0:s.id})}),(0,t.jsx)(c.$n,{icon:(0,t.jsx)(o.A,{className:"size-4 text-red-500"}),onClick:()=>p(!0),outline:!0,size:"sm",variant:"danger",children:"Dispute this report"}),(0,t.jsx)(c.aF,{onClose:()=>p(!1),show:v,title:"Dispute this report",children:(0,t.jsx)(j,{report:h,setShowDisputeModal:p})}),(0,t.jsx)(a.A,{post:h.reportedPublication})]})]})}},20305:(e,s,i)=>{i.d(s,{A:()=>u});var t=i(65723),l=i(7006),a=i(96898),r=i(10499),n=i(14834),o=i(3817),d=i(98345),c=i(38206);let u=e=>{var s,i;let{accountId:u,postId:h}=e,m={...u&&{forProfile:u},...h&&{forPublication:h},limit:n.gTn.Fifty},{data:x,error:v,fetchMore:p,loading:j}=(0,n.MIc)({variables:{request:m}}),f=null==x?void 0:null===(s=x.modLatestReports)||void 0===s?void 0:s.items,w=null==x?void 0:null===(i=x.modLatestReports)||void 0===i?void 0:i.pageInfo,b=null==w?void 0:w.next,g=async()=>{b&&await p({variables:{request:{...m,cursor:null==w?void 0:w.next}}})};return j?(0,t.jsx)(a.A,{className:"my-10",message:"Loading reports..."}):(null==f?void 0:f.length)===0?(0,t.jsx)(o.pp,{icon:(0,t.jsx)(r.A,{className:"size-8"}),message:"No reports yet!",className:"my-5",hideCard:!0}):v?(0,t.jsx)(o.Kw,{className:"m-5",error:v,title:"Failed to load reports"}):(0,t.jsx)("div",{className:"max-h-[80vh] overflow-y-auto",children:(0,t.jsx)(d.aY,{className:"!h-[80vh] [&>div>div]:space-y-5 [&>div>div]:px-5 [&>div]:py-5",components:{Footer:()=>(0,t.jsx)("div",{className:"pb-5"})},computeItemKey:(e,s)=>{var i;return"".concat(s.reporter.id,"-").concat(null===(i=s.reportedPublication)||void 0===i?void 0:i.id,"-").concat(e)},data:null==f?void 0:f.filter(e=>e.reportedPublication),endReached:g,itemContent:(e,s)=>(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(l.A,{isFirst:!0,post:s.reportedPublication,showActions:!1,showThread:!1}),(0,t.jsx)("div",{className:"divider"}),(0,t.jsx)(c.A,{hideViewReportsButton:!0,report:s})]})})})}},96475:(e,s,i)=>{i.d(s,{A:()=>b});var t=i(65723),l=i(96898),a=i(22690),r=i(22155);let n=r.forwardRef(function(e,s){let{title:i,titleId:t,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},l),i?r.createElement("title",{id:t},i):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))});var o=i(62231),d=i(97002),c=i(14834),u=i(3817),h=i(36018),m=i(24165),x=i(7606),v=i.n(x),p=i(91983),j=i(98345),f=i(20305);let w=e=>{let{id:s}=e,[i,l]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.$n,{onClick:()=>l(!0),outline:!0,size:"sm",children:"View reports"}),(0,t.jsx)(u.aF,{onClose:()=>l(!1),show:i,size:"md",title:"Reports",children:(0,t.jsx)(f.A,{accountId:s})})]})},b=()=>{var e;let{pathname:s}=(0,p.useRouter)(),[i,x]=(0,r.useState)(c.R3C.LatestCreated),[f,b]=(0,r.useState)(""),[g,N]=(0,r.useState)(!1),A=(0,m.d7)(f,500),y={limit:c.gTn.Fifty,orderBy:i},{data:k,error:C,fetchMore:R,loading:I,refetch:M}=(0,c.$Ur)({variables:{request:y}}),[P,{data:S,loading:F}]=(0,c.AdH)();(0,r.useEffect)(()=>{A&&P({variables:{request:{limit:c.gTn.Ten,query:A}}})},[A]);let L=f?null==S?void 0:S.searchProfiles.items:null==k?void 0:k.exploreProfiles.items,Y=null==k?void 0:null===(e=k.exploreProfiles)||void 0===e?void 0:e.pageInfo,z=null==Y?void 0:Y.next,E=async()=>{!f&&z&&await R({variables:{request:{...y,cursor:null==Y?void 0:Y.next}}})},B=async()=>{N(!0),await M(),N(!1)};return(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-5 p-5",children:[(0,t.jsx)(u.pd,{onChange:e=>b(e.target.value),placeholder:"Search profiles...",value:f}),f?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.l6,{className:"w-72",defaultValue:i,onChange:e=>x(e),options:Object.values(c.R3C).map(e=>({label:e,selected:i===e,value:e}))}),(0,t.jsx)("button",{onClick:B,type:"button",children:(0,t.jsx)(n,{className:(0,h.A)(g&&"animate-spin","size-5")})})]})]}),(0,t.jsx)("div",{className:"divider"}),(0,t.jsx)("div",{className:"m-5",children:I||F?(0,t.jsx)(l.A,{className:"my-10",message:"Loading profiles..."}):C?(0,t.jsx)(u.Kw,{error:C,title:"Failed to load profiles"}):(null==L?void 0:L.length)?(0,t.jsx)(j.aY,{computeItemKey:(e,s)=>"".concat(s.id,"-").concat(e),data:L,endReached:E,itemContent:(e,i)=>(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-y-5 pb-7",children:[(0,t.jsx)(v(),{href:"/mod"===s?(0,d.A)(i).link:(0,d.A)(i).staffLink,children:(0,t.jsx)(a.A,{hideFollowButton:!0,hideUnfollowButton:!0,isBig:!0,linkToAccount:!1,account:i,showBio:!1,showId:!0,showUserPreview:!1,timestamp:i.createdAt})}),(0,t.jsx)("div",{children:(0,t.jsx)(w,{id:i.id})})]}),useWindowScroll:!0}):(0,t.jsx)(u.pp,{hideCard:!0,icon:(0,t.jsx)(o.A,{className:"size-8"}),message:(0,t.jsx)("span",{children:"No profiles"})})})]})}},10499:(e,s,i)=>{i.d(s,{A:()=>l});var t=i(22155);let l=t.forwardRef(function(e,s){let{title:i,titleId:l,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},a),i?t.createElement("title",{id:l},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))})}}]);