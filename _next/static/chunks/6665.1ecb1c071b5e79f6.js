(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6665],{29445:function(e){var t;t=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(s,i,n){var a=i.prototype;n.utc=function(e){var t={date:e,utc:!0,args:arguments};return new i(t)},a.utc=function(t){var l=n(this.toDate(),{locale:this.$L,utc:!0});return t?l.add(this.utcOffset(),e):l},a.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var r=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),r.call(this,e)};var c=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var o=a.utcOffset;a.utcOffset=function(s,i){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?o.call(this):this.$offset;if("string"==typeof s&&null===(s=function(e){void 0===e&&(e="");var s=e.match(t);if(!s)return null;var i=(""+s[0]).match(l)||["-",0,0],n=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===n?a:-a}(s)))return this;var a=16>=Math.abs(s)?60*s:s,r=this;if(i)return r.$offset=a,r.$u=0===s,r;if(0!==s){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(a+c,e)).$offset=a,r.$x.$localOffset=c}else r=this.utc();return r};var d=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var u=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var m=a.diff;a.diff=function(e,t,l){if(e&&this.$u===e.$u)return m.call(this,e,t,l);var s=this.local(),i=n(e).local();return m.call(s,i,t,l)}}},e.exports=t()},6665:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>V});var s=l(65723),i=l(16705),n=l(3817),a=l(22155),r=l(53007),c=l(96338),o=l(77075),d=l(78135),u=l(7606),m=l.n(u);let h=()=>{var e;let{license:t,setLicense:l}=(0,c.Y)(),i=Object.values(d.tD).filter(e=>(0,o.A)(e)).map(e=>{var l;return{label:null===(l=(0,o.A)(e))||void 0===l?void 0:l.label,selected:t===e,value:e}}),a=[{label:"All rights reserved",selected:null===t,value:null},...i];return(0,s.jsxs)("div",{className:"my-5",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,s.jsx)("b",{children:"License"}),(0,s.jsx)(n.m_,{content:(0,s.jsx)("div",{className:"max-w-xs py-2 leading-5",children:"Creator licenses dictate the use, sharing, and distribution of music, art and other intellectual property - ranging from restrictive to permissive. Once given, you can't change the license."}),placement:"top",children:(0,s.jsx)("div",{className:"ld-text-gray-500 text-sm",children:"What's this?"})})]}),(0,s.jsx)(n.l6,{onChange:e=>l(e),options:a}),(0,s.jsxs)("div",{className:"ld-text-gray-500 linkify mt-2 text-sm",children:[(null===(e=(0,o.A)(t))||void 0===e?void 0:e.helper)||"You are not granting a license to the collector and retain all rights.",(0,s.jsx)(m(),{className:"ml-1.5",href:"https://yoginth.notion.site/60f9d82c5a274a88b8444611c7a8a94a",target:"_blank",children:"Learn more."})]})]})};var v=l(87771),p=l(14834),x=l(79486),f=l(73180),j=l(99777),g=l(84865),y=l(86562);let N=e=>{var t,l;let{setCollectType:i}=e,{currentAccount:a}=(0,g.E)(),{collectModule:c}=(0,r.x)(e=>e),{allowedTokens:o}=(0,y.X)(),d=!!(null===(t=c.amount)||void 0===t?void 0:t.value);return(0,s.jsxs)("div",{children:[(0,s.jsx)(v.A,{description:"Get paid whenever someone collects your post",heading:"Charge for collecting",icon:(0,s.jsx)(f.A,{className:"size-5"}),on:d,setOn:()=>{i({amount:d?null:{currency:j.Zk,value:"1"},recipients:d?[]:[{recipient:null==a?void 0:a.ownedBy.address,split:100}],type:d?p.nwt.SimpleCollectOpenActionModule:p.nwt.MultirecipientFeeCollectOpenActionModule})}}),(null===(l=c.amount)||void 0===l?void 0:l.value)?(0,s.jsx)("div",{className:"mt-4 ml-8",children:(0,s.jsxs)("div",{className:"flex space-x-2 text-sm",children:[(0,s.jsx)(n.pd,{label:"Price",max:"100000",min:"0",onChange:e=>{var t;i({amount:{currency:null===(t=c.amount)||void 0===t?void 0:t.currency,value:e.target.value?e.target.value:"0"}})},placeholder:"0.5",type:"number",value:Number.parseFloat(c.amount.value)}),(0,s.jsxs)("div",{className:"w-5/6",children:[(0,s.jsx)("div",{className:"label",children:"Select currency"}),(0,s.jsx)(n.l6,{iconClassName:"size-4",onChange:e=>{var t;i({amount:{currency:e,value:null===(t=c.amount)||void 0===t?void 0:t.value}})},options:null==o?void 0:o.map(e=>{var t;return{icon:"".concat(j.Un,"/tokens/").concat(e.symbol,".svg"),label:e.name,selected:e.contractAddress===(null===(t=c.amount)||void 0===t?void 0:t.currency),value:e.contractAddress}})})]})]})}):null]})};var w=l(32805);let A=e=>{let{setCollectType:t}=e,{collectModule:l}=(0,r.x)(e=>e);return(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)(v.A,{description:"Make collects limited edition",heading:"Exclusive content",icon:(0,s.jsx)(w.A,{className:"size-5"}),on:!!l.collectLimit,setOn:()=>t({collectLimit:l.collectLimit?null:"1"})}),l.collectLimit?(0,s.jsx)("div",{className:"mt-4 ml-8 text-sm",children:(0,s.jsx)(n.pd,{label:"Collect limit",max:"100000",min:"1",onChange:e=>{t({collectLimit:e.target.value?e.target.value:"1"})},placeholder:"5",type:"number",value:l.collectLimit})}):null]})};var b=l(71889);let C=e=>{let{setCollectType:t}=e,{collectModule:l}=(0,r.x)(e=>e);return(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(v.A,{description:"Only followers can collect",heading:"Exclusivity",icon:(0,s.jsx)(b.A,{className:"size-5"}),on:l.followerOnly||!1,setOn:()=>t({followerOnly:!l.followerOnly})})})};var $=l(14930);let O=e=>{let{setCollectType:t}=e,{collectModule:l}=(0,r.x)(e=>e);return(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)(v.A,{description:"Share your fee with people who amplify your content",heading:"Mirror referral reward",icon:(0,s.jsx)($.A,{className:"size-5"}),on:!!l.referralFee,setOn:()=>{var e;return t({referralFee:l.referralFee?0:25,type:(null===(e=l.recipients)||void 0===e?void 0:e.length)?p.nwt.MultirecipientFeeCollectOpenActionModule:p.nwt.SimpleCollectOpenActionModule})}}),l.referralFee?(0,s.jsxs)("div",{className:"mt-4 ml-8 space-y-2 text-sm",children:[(0,s.jsx)("div",{children:"Referral fee"}),(0,s.jsx)(n.F1,{showValueInThumb:!0,min:1,max:100,displayValue:"".concat(l.referralFee.toString(),"%"),defaultValue:[l.referralFee],onValueChange:e=>t({referralFee:Number(e[0])})})]}):null]})};var S=l(27623),k=l(62231),M=l(19115),T=l(31181);let D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=Math.floor(e/t),s=[];for(let e=0;e<t;e++)s.push(l);if(s.reduce((e,t)=>e+t,0)===e)return s;for(let l=0;l<t&&(s[l]++,s.reduce((e,t)=>e+t,0)!==e);l++);return s},F=e=>{let{isRecipientsDuplicated:t,setCollectType:l}=e,{currentAccount:i}=(0,g.E)(),{collectModule:c}=(0,r.x)(e=>e),o=(null==i?void 0:i.ownedBy.address)||"",d=c.recipients||[],[u,m]=(0,a.useState)(d.length>1||1===d.length&&d[0].recipient!==o),h=d.reduce((e,t)=>e+t.split,0),p=(e,t,s)=>{l({recipients:(t=>d.map((l,i)=>i===e?{...l,[s]:"split"===s?Number.parseInt(t):t}:l))(t)})},f=(e,t)=>{p(e,t,"recipient")},y=e=>{let t=d.filter((t,l)=>l!==e);0===t.length?(l({recipients:[{recipient:o,split:100}]}),m(!1)):l({recipients:t})};return(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)(v.A,{description:"Set multiple recipients for the collect fee",heading:"Split revenue",icon:(0,s.jsx)(k.A,{className:"size-5"}),on:u,setOn:()=>{l({recipients:[{recipient:o,split:100}]}),m(!u)}}),u?(0,s.jsxs)("div",{className:"mt-4 ml-8 space-y-3",children:[(0,s.jsx)("div",{className:"space-y-2",children:d.map((e,t)=>(0,s.jsxs)(n.H6,{className:"flex items-center space-x-2 font-normal",children:[(0,s.jsx)(S.A,{error:e.recipient.length>0&&!(0,x.P)(e.recipient),hideDropdown:(0,x.P)(e.recipient),onChange:e=>f(t,e.target.value),onAccountSelected:e=>f(t,e.ownedBy.address),placeholder:"".concat(j.$D," or wagmi"),value:e.recipient}),(0,s.jsx)("div",{className:"w-1/3",children:(0,s.jsx)(n.pd,{iconRight:"%",max:"100",min:"1",onChange:e=>p(t,e.target.value,"split"),placeholder:"5",type:"number",value:e.split})}),(0,s.jsx)("button",{onClick:()=>y(t),type:"button",children:(0,s.jsx)(M.A,{className:"size-5"})})]},t))}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[d.length>=4?(0,s.jsx)("div",{}):(0,s.jsx)(n.$n,{icon:(0,s.jsx)(T.A,{className:"size-3"}),onClick:()=>{l({recipients:[...d,{recipient:"",split:0}]})},outline:!0,size:"sm",children:"Add recipient"}),(0,s.jsx)(n.$n,{icon:(0,s.jsx)($.A,{className:"size-3"}),onClick:()=>{let e=D(100,d.length);l({recipients:[...d.map((t,l)=>({recipient:t.recipient,split:e[l]}))]})},outline:!0,size:"sm",children:"Split evenly"})]}),h>100?(0,s.jsxs)(n.H6,{className:"text-red-500",children:["Splits cannot exceed 100%. Total: ",(0,s.jsx)("span",{children:h}),"%"]}):null,h<100?(0,s.jsxs)(n.H6,{className:"text-red-500",children:["Splits cannot be less than 100%. Total: ",(0,s.jsx)("span",{children:h}),"%"]}):null,t()?(0,s.jsx)(n.H6,{className:"text-red-500",children:"Duplicate recipient address found"}):null]}):null]})};var L=l(15005),z=l(18195),Y=l(66889),E=l(53329);let H=e=>{let{setCollectType:t}=e,{collectModule:l}=(0,r.x)(e=>e);return(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)(v.A,{description:"Limit collecting to specific period of time",heading:"Time limit",icon:(0,s.jsx)(L.A,{className:"size-5"}),on:!!l.endsAt,setOn:()=>t({endsAt:l.endsAt?null:(0,E.A)(1)})}),l.endsAt?(0,s.jsxs)("div",{className:"mt-4 ml-8 space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:["Number of days -"," ",(0,s.jsx)("b",{children:(0,z.A)(l.endsAt,"MMM D, YYYY - hh:mm:ss A")})]}),(0,s.jsx)(n.F1,{showValueInThumb:!0,min:1,max:100,displayValue:(0,Y.A)(new Date(l.endsAt)).toString(),defaultValue:[(0,Y.A)(new Date(l.endsAt))],onValueChange:e=>t({endsAt:(0,E.A)(Number(e[0]))})})]}):null]})},U=e=>{var t,l;let{setShowModal:i}=e,{collectModule:a,reset:o,setCollectModule:d}=(0,r.x)(e=>e),{setLicense:u}=(0,c.Y)(),{SimpleCollectOpenActionModule:m}=p.nwt,f=a.recipients||[],j=f.reduce((e,t)=>e+t.split,0),g=f.some(e=>!e.recipient),y=f.some(e=>e.recipient&&!(0,x.P)(e.recipient)),w=f.some(e=>0===e.split),b=f.length>1&&100!==j,$=()=>new Set(f.map(e=>e.recipient)).size!==f.length,S=e=>{d({...a,...e})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-5",children:(0,s.jsx)(v.A,{description:"This post can be collected",heading:"Enable Collect",on:null!==a.type,setOn:()=>{a.type?(u(null),o()):S({type:m})}})}),(0,s.jsx)("div",{className:"divider"}),null!==a.type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"m-5",children:[(0,s.jsx)(N,{setCollectType:S}),(null===(t=a.amount)||void 0===t?void 0:t.value)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O,{setCollectType:S}),(0,s.jsx)(F,{isRecipientsDuplicated:$,setCollectType:S})]}):null,(0,s.jsx)(A,{setCollectType:S}),(0,s.jsx)(H,{setCollectType:S}),(0,s.jsx)(C,{setCollectType:S})]}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("div",{className:"m-5",children:(0,s.jsx)(h,{})}),(0,s.jsx)("div",{className:"divider"})]}):null,(0,s.jsxs)("div",{className:"flex space-x-2 p-5",children:[(0,s.jsx)(n.$n,{className:"ml-auto",onClick:()=>{i(!1),u(null),o()},outline:!0,variant:"danger",children:a.type?"Reset":"Cancel"}),(0,s.jsx)(n.$n,{disabled:0>=Number.parseFloat(null===(l=a.amount)||void 0===l?void 0:l.value)&&null!==a.type||b||g||w||y||$(),onClick:()=>i(!1),children:"Save"})]})]})},V=()=>{let{reset:e}=(0,r.x)(e=>e),{setLicense:t}=(0,c.Y)(),[l,o]=(0,a.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.m_,{content:"Collect",placement:"top",children:(0,s.jsx)("button",{"aria-label":"Collect Module",className:"rounded-full outline-offset-8",onClick:()=>o(!l),type:"button",children:(0,s.jsx)(i.A,{className:"size-5"})})}),(0,s.jsx)(n.aF,{onClose:()=>{o(!1),t(null),e()},show:l,title:"Collect Settings",children:(0,s.jsx)(U,{setShowModal:o})})]})}},27623:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var s=l(65723),i=l(14834),n=l(3817),a=l(96898),r=l(85933);let c=e=>{let{error:t=!1,hideDropdown:l=!1,onChange:c,onAccountSelected:o,placeholder:d="Search…",skipGardeners:u=!1,value:m}=e,[h,{data:v,loading:p}]=(0,i.AdH)(),x=null==v?void 0:v.searchProfiles.items;return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(n.pd,{error:t,onChange:e=>{c(e);let t=e.target.value;h({variables:{request:{limit:i.gTn.Ten,query:t,...!u&&{where:{customFilters:[i.j7g.Gardeners]}}}}})},placeholder:d,type:"text",value:m}),!l&&m.length>0&&(0,s.jsx)("div",{className:"absolute mt-2 flex w-[94%] max-w-md flex-col",children:(0,s.jsx)(n.Zp,{className:"z-[2] max-h-[80vh] overflow-y-auto py-2",children:p?(0,s.jsx)(a.A,{className:"my-3",message:"Searching users",small:!0}):x.length>0?x.slice(0,7).map(e=>(0,s.jsx)("div",{className:"cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>o(e),children:(0,s.jsx)(r.A,{account:e})},e.id)):(0,s.jsx)("div",{className:"px-4 py-2",children:"No matching users"})})})]})}},87771:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var s=l(65723),i=l(3817);let n=e=>{let{description:t,disabled:l=!1,heading:n,icon:a,on:r,setOn:c}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[a&&(0,s.jsx)("span",{className:"mt-1",children:a}),(0,s.jsxs)("div",{children:[n&&(0,s.jsx)("b",{children:n}),(0,s.jsx)(i.H6,{className:"ld-text-gray-500 font-normal",children:t})]})]}),(0,s.jsx)(i.lM,{disabled:l,on:r,setOn:c})]})}},66889:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var s=l(59300),i=l.n(s),n=l(68446),a=l.n(n);i().extend(a());let r=e=>{let t=i()().startOf("day");return i()(e).startOf("day").diff(t,"day")}},53329:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var s=l(59300),i=l.n(s),n=l(68446),a=l.n(n),r=l(29445),c=l.n(r);i().extend(a()),i().extend(c());let o=e=>i()().add(e,"day").utc().format()},32805:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var s=l(22155);let i=s.forwardRef(function(e,t){let{title:l,titleId:i,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),l?s.createElement("title",{id:i},l):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},71889:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var s=l(22155);let i=s.forwardRef(function(e,t){let{title:l,titleId:i,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),l?s.createElement("title",{id:i},l):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))})},19115:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var s=l(22155);let i=s.forwardRef(function(e,t){let{title:l,titleId:i,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),l?s.createElement("title",{id:i},l):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}}]);