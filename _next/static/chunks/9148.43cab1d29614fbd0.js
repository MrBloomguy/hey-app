"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9148],{79148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(65723),r=a(56495),s=a(22155);let i=s.forwardRef(function(e,t){let{title:a,titleId:l,...r}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},r),a?s.createElement("title",{id:l},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 8.25v7.5m6-7.5h-3V12m0 0v3.75m0-3.75H18M9.75 9.348c-1.03-1.464-2.698-1.464-3.728 0-1.03 1.465-1.03 3.84 0 5.304 1.03 1.464 2.699 1.464 3.728 0V12h-1.5M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))});var n=a(74716),o=a(3817),c=a(36018),d=a(42798),u=a(99777),h=a(24165),m=a(68243),g=a(45571);let p=e=>{let{setSearchText:t}=e,a=async()=>{try{let{data:e}=await g.A.get("https://api.giphy.com/v1/gifs/categories",{params:{api_key:u.c9}});return e.data}catch(e){return[]}},{data:r}=(0,m.I)({queryFn:a,queryKey:["getGiphyCategories"]});return(0,l.jsx)("div",{className:"grid w-full grid-cols-2 gap-1 overflow-y-auto",children:null==r?void 0:r.map(e=>{var a,r,s;return(0,l.jsxs)("button",{className:"relative flex outline-none",onClick:()=>t(e.name),type:"button",children:[(0,l.jsx)("img",{alt:e.name_encoded,className:"h-32 w-full cursor-pointer object-cover",draggable:!1,height:128,src:null===(s=e.gif)||void 0===s?void 0:null===(r=s.images)||void 0===r?void 0:null===(a=r.original_still)||void 0===a?void 0:a.url}),(0,l.jsx)("div",{className:"absolute right-0 bottom-0 w-full bg-gradient-to-b from-transparent to-gray-800 px-2 py-1 text-right",children:(0,l.jsx)(o.H5,{className:"text-white capitalize",children:e.name})})]},e.name_encoded)})})},v=e=>{let{debouncedGifInput:t,setGifAttachment:a,setSearchText:r,setShowModal:s}=e,i=e=>{a(e),r(""),s(!1)},n=async e=>{try{let{data:t}=await g.A.get("https://api.giphy.com/v1/gifs/search",{params:{api_key:u.c9,limit:48,q:e}});return t.data}catch(e){return[]}},{data:o,isFetching:c}=(0,m.I)({enabled:!!t,queryFn:()=>n(t),queryKey:["getGifs",t]});return c?(0,l.jsx)("div",{className:"grid w-full grid-cols-3 gap-1 overflow-y-auto",children:Array.from(Array(12).keys()).map(e=>(0,l.jsx)("div",{className:"shimmer h-32 w-full cursor-pointer object-cover"},e))}):(0,l.jsx)("div",{className:"grid w-full grid-cols-3 gap-1 overflow-y-auto",children:null==o?void 0:o.map(e=>{var t,a;return(0,l.jsx)("button",{className:"relative flex outline-none",onClick:()=>i(e),type:"button",children:(0,l.jsx)("img",{alt:e.slug,className:"h-32 w-full cursor-pointer object-cover",draggable:!1,height:128,src:null==e?void 0:null===(a=e.images)||void 0===a?void 0:null===(t=a.original)||void 0===t?void 0:t.url})},e.id)})})},x=e=>{let{setGifAttachment:t,setShowModal:a}=e,[r,i]=(0,s.useState)(""),n=(0,h.d7)(r,500);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"m-3",children:(0,l.jsx)(o.pd,{onChange:e=>i(e.target.value),placeholder:"Search for GIFs",type:"text",value:r})}),(0,l.jsx)("div",{className:"max-h-[45vh] overflow-y-auto",children:n?(0,l.jsx)(v,{debouncedGifInput:n,setGifAttachment:t,setSearchText:i,setShowModal:a}):(0,l.jsx)(p,{setSearchText:i})}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 p-3 text-sm",children:[(0,l.jsx)("b",{children:"Powered by"}),(0,l.jsx)("img",{alt:"Giphy",className:"h-3",src:"".concat(u.Un,"/brands/giphy.png")})]})]})},f=e=>{let{setGifAttachment:t}=e,{attachments:a}=(0,d.c)(e=>e),[u,h]=(0,s.useState)(!1),m=a.length>0&&(!a.some(e=>"Image"===e.type)||a.length>=4);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.m_,{content:"GIF",placement:"top",children:(0,l.jsx)("button",{"aria-label":"GIF",className:(0,c.A)("rounded-full outline-offset-8",{"opacity-50":m}),disabled:m,onClick:()=>{h(!u),r.s.track(n.LO.OPEN_GIFS)},type:"button",children:(0,l.jsx)(i,{className:"size-5"})})}),(0,l.jsx)(o.aF,{onClose:()=>h(!1),show:u,title:"Select GIF",children:(0,l.jsx)(x,{setGifAttachment:t,setShowModal:h})})]})}}}]);