"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9618],{39618:(e,s,a)=>{a.d(s,{A:()=>H});var l=a(65723),r=a(45507),i=a(83634),n=a(7794),t=a(56495),c=a(99777),d=a(74716),o=a(28395),m=a(3817),u=a(68243),x=a(91983),h=a(22155),v=a(1615),j=a(55358),p=a(84865),g=a(7006),b=a(74421),N=a(5519),w=a(14834),y=a(98345),f=a(44940),A=a(1814);let k={ranges:[],screenTop:0},z=e=>{var s,a,r;let{handle:i}=e,{fetchAndStoreViews:n}=(0,f.B)(),{fetchAndStoreTips:t}=(0,A.J)(),c=(0,h.useRef)(null);(0,h.useEffect)(()=>{k={ranges:[],screenTop:0}},[i]);let d={limit:w.gTn.TwentyFive,where:{metadata:{tags:{oneOf:["orbcommunities".concat(i)]}}}},{data:o,error:u,fetchMore:x,loading:v}=(0,w.jvo)({onCompleted:async e=>{var s;let{publications:a}=e,l=(null==a?void 0:null===(s=a.items)||void 0===s?void 0:s.map(e=>{var s;return"Mirror"===e.__typename?null===(s=e.mirrorOn)||void 0===s?void 0:s.id:e.id}))||[];await n(l),await t(l)},skip:!i,variables:{request:d}}),j=null==o?void 0:null===(s=o.publications)||void 0===s?void 0:s.items,p=null==o?void 0:null===(a=o.publications)||void 0===a?void 0:a.pageInfo,z=null==p?void 0:p.next,C=async()=>{if(z){var e,s;let{data:a}=await x({variables:{request:{...d,cursor:null==p?void 0:p.next}}}),l=(null==a?void 0:null===(s=a.publications)||void 0===s?void 0:null===(e=s.items)||void 0===e?void 0:e.map(e=>{var s;return"Mirror"===e.__typename?null===(s=e.mirrorOn)||void 0===s?void 0:s.id:e.id}))||[];await n(l),await t(l)}};return v?(0,l.jsx)(b.A,{}):(null==j?void 0:j.length)===0?(0,l.jsx)(m.pp,{icon:(0,l.jsx)(N.A,{className:"size-8"}),message:(0,l.jsxs)("div",{children:[(0,l.jsxs)("b",{className:"mr-1",children:["/",i]}),(0,l.jsx)("span",{children:"has no posts yet!"})]})}):u?(0,l.jsx)(m.Kw,{error:u,title:"Failed to load club feed"}):(0,l.jsx)(m.Zp,{children:(0,l.jsx)(y.aY,{className:"virtual-divider-list-window",computeItemKey:(e,s)=>"".concat(s.id,"-").concat(e),data:j,endReached:C,isScrolling:e=>{if(!e){var s;null==c||null===(s=c.current)||void 0===s||s.getState(e=>{k={...e}})}},itemContent:(e,s)=>(0,l.jsx)(g.A,{isFirst:0===e,isLast:e===((null==j?void 0:j.length)||0)-1,post:s}),ref:c,restoreStateFrom:0===k.ranges.length?null==k?void 0:null===(r=k.current)||void 0===r?void 0:r.getState(e=>e):k,useWindowScroll:!0})})};var C=a(15341),E=a(50504),_=a(48378),F=a(46073),M=a(18489),S=a(7606),I=a.n(S);let q=e=>{let{club:s}=e,[a,r]=(0,h.useState)(null);return(0,l.jsxs)("div",{className:"mb-4 space-y-5 px-5 sm:px-0",children:[(0,l.jsxs)("div",{className:"-mt-24 sm:-mt-32 relative size-32 sm:size-52",children:[(0,l.jsx)(m._V,{alt:s.handle,className:"size-32 cursor-pointer rounded-xl bg-gray-200 ring-8 ring-gray-50 sm:size-52 dark:bg-gray-700 dark:ring-black",height:128,onClick:()=>r(s.logo),src:s.logo,width:128}),(0,l.jsx)(m.Qb,{onClose:()=>r(null),url:a})]}),(0,l.jsxs)("div",{className:"space-y-1 py-2",children:[(0,l.jsx)(m.H3,{className:"truncate",children:s.name}),(0,l.jsx)(_.A,{className:"text-sm sm:text-base",prefix:"/",slug:s.handle})]}),s.description?(0,l.jsx)("div",{className:"markup linkify mr-0 break-words text-md sm:mr-10",children:(0,l.jsx)(E.A,{mentions:(0,F.A)(s.description),children:s.description})}):null,(0,l.jsxs)("div",{className:"space-y-5",children:[(0,l.jsxs)(I(),{className:"text-left outline-offset-4",href:"/c/".concat(s.handle,"/members"),children:[(0,l.jsx)(m.H4,{children:(0,M.A)(s.totalMembers)}),(0,l.jsx)("div",{className:"ld-text-gray-500",children:"Members"})]}),(0,l.jsx)(C.A,{club:s})]})]})};var L=a(5849),K=a(22690),R=a(62231),T=a(76631),Z=a(45571);let B=e=>{let{clubId:s,handle:a}=e,{currentAccount:r}=(0,p.E)(),i=async()=>{try{let{data:e}=await Z.A.post("".concat(c.uI,"/clubs/members"),{id:s,limit:50});return e.data}catch(e){return null}},{data:n,error:t,isLoading:o}=(0,u.I)({enabled:!!s,queryFn:i,queryKey:["getClubMembers",s]}),x=(null==n?void 0:n.items.map(e=>e.id))||[],{data:h,error:v,loading:j}=(0,w.wCx)({skip:!x.length,variables:{request:{where:{profileIds:x}}}}),g=(null==h?void 0:h.profiles.items)||[];return o||j?(0,l.jsx)(m.Zp,{children:(0,l.jsx)(L.A,{})}):0===g.length?(0,l.jsx)(m.pp,{icon:(0,l.jsx)(R.A,{className:"size-8"}),message:(0,l.jsxs)("div",{children:[(0,l.jsxs)("b",{className:"mr-1",children:["/",a]}),(0,l.jsx)("span",{children:"doesn't have any members."})]})}):t||v?(0,l.jsx)(m.Kw,{className:"m-5",error:t||v,title:"Failed to load members"}):(0,l.jsxs)(m.Zp,{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-5",children:[(0,l.jsx)(I(),{href:"/c/".concat(a),children:(0,l.jsx)(T.A,{className:"size-5"})}),(0,l.jsx)(m.H5,{children:"Members"})]}),(0,l.jsx)("div",{className:"divider"}),(0,l.jsx)(y.aY,{className:"virtual-divider-list-window",computeItemKey:(e,s)=>"".concat(s.id,"-").concat(e),data:g,itemContent:(e,s)=>(0,l.jsx)("div",{className:"p-5",children:(0,l.jsx)(K.A,{hideFollowButton:(null==r?void 0:r.id)===s.id,hideUnfollowButton:(null==r?void 0:r.id)===s.id,account:s,showBio:!0,showUserPreview:!1,source:d.vH.ClubMembers})}),useWindowScroll:!0})]})},U=e=>{let{profileList:s=!1}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"container mx-auto max-w-[1350px]",children:(0,l.jsx)("div",{className:"shimmer h-52 sm:h-[350px] md:rounded-b-2xl"})}),(0,l.jsxs)(m.JT,{children:[(0,l.jsx)(m.an,{children:(0,l.jsxs)("div",{className:"mb-4 space-y-9 px-5 sm:px-0",children:[(0,l.jsx)("div",{className:"-mt-24 sm:-mt-32 relative size-32 bg-gray-100 sm:size-52",children:(0,l.jsx)("div",{className:"shimmer size-32 rounded-xl ring-8 ring-gray-50 sm:size-52 dark:bg-gray-700 dark:ring-black"})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"shimmer h-5 w-1/3 rounded-lg"}),(0,l.jsx)("div",{className:"shimmer h-3 w-1/4 rounded-lg"})]}),(0,l.jsxs)("div",{className:"space-y-5",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"shimmer h-3 w-7/12 rounded-lg"}),(0,l.jsx)("div",{className:"shimmer h-3 w-1/3 rounded-lg"})]}),(0,l.jsxs)("div",{className:"space-y-2 pb-1",children:[(0,l.jsx)("div",{className:"shimmer size-7 rounded-lg"}),(0,l.jsx)("div",{className:"shimmer h-3 w-20 rounded-lg"})]}),(0,l.jsx)("div",{className:"shimmer h-[34px] w-20 rounded-full"})]})]})}),(0,l.jsx)(m.$l,{children:s?(0,l.jsx)(m.Zp,{children:(0,l.jsx)(L.A,{})}):(0,l.jsx)(b.A,{})})]})]})},H=()=>{let{isReady:e,pathname:s,query:{handle:a}}=(0,x.useRouter)(),{currentAccount:g}=(0,p.E)(),b="/c/[handle]/members"===s;(0,h.useEffect)(()=>{e&&t.s.track(d.zQ,{page:"club",subpage:s.replace("/c/[handle]","")})},[a]);let{data:N,error:w,isLoading:y}=(0,u.I)({enabled:!!a,queryFn:()=>(0,o.A)({club_handle:a,profile_id:null==g?void 0:g.id}),queryKey:[o.b,a]});return!e||y?(0,l.jsx)(U,{profileList:b}):N?w?(0,l.jsx)(j.default,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.A,{description:N.description,title:"".concat(N.name," (/").concat(N.handle,") â€¢ ").concat(c.C3)}),(0,l.jsx)(n.A,{cover:N.cover||"".concat(c.Un,"/patterns/2.svg")}),(0,l.jsxs)(m.JT,{children:[(0,l.jsx)(m.an,{children:(0,l.jsx)(q,{club:N})}),(0,l.jsx)(m.$l,{className:"space-y-5",children:b?(0,l.jsx)(B,{clubId:N.id,handle:N.handle}):(0,l.jsxs)(l.Fragment,{children:[g&&N.isMember&&(0,l.jsx)(i.A,{tags:["orbcommunities".concat(N.handle),"heyclubs".concat(N.handle)]}),(0,l.jsx)(z,{handle:N.handle})]})})]})]}):(0,l.jsx)(v.default,{})}},83634:(e,s,a)=>{a.d(s,{A:()=>u});var l=a(65723),r=a(29883),i=a(77849),n=a(3817),t=a(91983),c=a(22155),d=a(67973),o=a(84865),m=a(22937);let u=e=>{let{tags:s}=e,{isReady:a,query:u}=(0,t.useRouter)(),{currentAccount:x}=(0,o.E)(),{setPostContent:h,setTags:v}=(0,d.D)(),[j,p]=(0,c.useState)(!1),g=()=>{s&&v(s),p(!0)};return((0,c.useEffect)(()=>{if(a&&u.text){let e;let{hashtags:s,text:a,url:l,via:r}=u;s&&(e=s.split(",").map(e=>"#".concat(e," ")).join(""));let i="".concat(a).concat(e?" ".concat(e," "):"").concat(l?"\n\n".concat(l):"").concat(r?"\n\nvia @".concat(r):"");g(),h(i)}},[u]),j)?(0,l.jsx)(m.A,{}):(0,l.jsx)(n.Zp,{className:"cursor-pointer space-y-3 px-5 py-4",onClick:g,children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(n._V,{alt:null==x?void 0:x.id,className:"size-11 cursor-pointer rounded-full border bg-gray-200 dark:border-gray-700",height:44,onError:e=>{let{currentTarget:s}=e;s.src=(0,i.A)(null==x?void 0:x.id)},src:(0,r.A)(x),width:44}),(0,l.jsx)("span",{className:"ld-text-gray-500",children:"What's new?!"})]})})}},7794:(e,s,a)=>{a.d(s,{A:()=>t});var l=a(65723),r=a(99777),i=a(60907),n=a(17629);let t=e=>{let{cover:s}=e,a=s.includes(r.Un),t=a?"".concat(r.Un,"/patterns/2.svg"):(0,i.A)((0,n.A)(s),r.w3),c={backgroundColor:r.a1,backgroundImage:"url(".concat(t,")"),backgroundPosition:"center center",backgroundRepeat:a?"repeat":"no-repeat",backgroundSize:a?"30%":"cover"};return(0,l.jsx)("div",{className:"container mx-auto max-w-[1350px]",children:(0,l.jsx)("div",{className:"h-52 sm:h-[350px] md:rounded-b-2xl",style:c})})}},5519:(e,s,a)=>{a.d(s,{A:()=>r});var l=a(22155);let r=l.forwardRef(function(e,s){let{title:a,titleId:r,...i}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},i),a?l.createElement("title",{id:r},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))})}}]);