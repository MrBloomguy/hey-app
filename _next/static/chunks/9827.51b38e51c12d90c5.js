"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9827],{62168:(e,t,n)=>{n.d(t,{KZ:()=>V,q6:()=>T,n5:()=>P,Xq:()=>en,LG:()=>ee,Dp:()=>ei,NR:()=>z,Vl:()=>W,nF:()=>X,Cy:()=>K,vJ:()=>F,ML:()=>H,U1:()=>I});var i=Symbol.for("preact-signals");function r(){if(s>1)s--;else{for(var e,t=!1;void 0!==l;){var n=l;for(l=void 0,a++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&f(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if(a=0,s--,t)throw e}}var o=void 0,l=void 0,s=0,a=0,u=0;function c(e){if(void 0!==o){var t=e.n;if(void 0===t||t.t!==o)return t={i:0,S:e,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t},void 0!==o.s&&(o.s.n=t),o.s=t,e.n=t,32&o.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=o.s,t.n=void 0,o.s.n=t,o.s=t),t}}function d(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function f(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function p(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function v(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function h(e){d.call(this,void 0),this.x=e,this.s=void 0,this.g=u-1,this.f=4}function g(e){var t=e.u;if(e.u=void 0,"function"==typeof t){s++;var n=o;o=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,m(e),t}finally{o=n,r()}}}function m(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,g(e)}function y(e){if(o!==this)throw Error("Out-of-order effect");v(this),o=e,this.f&=-2,8&this.f&&m(this),r()}function b(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function k(e){var t=new b(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}d.prototype.brand=i,d.prototype.h=function(){return!0},d.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},d.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},d.prototype.subscribe=function(e){var t=this;return k(function(){var n=t.value,i=o;o=void 0;try{e(n)}finally{o=i}})},d.prototype.valueOf=function(){return this.value},d.prototype.toString=function(){return this.value+""},d.prototype.toJSON=function(){return this.value},d.prototype.peek=function(){var e=o;o=void 0;try{return this.value}finally{o=e}},Object.defineProperty(d.prototype,"value",{get:function(){var e=c(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(a>100)throw Error("Cycle detected");this.v=e,this.i++,u++,s++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{r()}}}}),(h.prototype=new d).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===u))return!0;if(this.g=u,this.f|=1,this.i>0&&!f(this))return this.f&=-2,!0;var e=o;try{p(this),o=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return o=e,v(this),this.f&=-2,!0},h.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}d.prototype.S.call(this,e)},h.prototype.U=function(e){if(void 0!==this.t&&(d.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},h.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(h.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var e=c(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),b.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},b.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,g(this),p(this),s++;var e=o;return o=this,y.bind(this,e)},b.prototype.N=function(){2&this.f||(this.f|=2,this.o=l,l=this)},b.prototype.d=function(){this.f|=8,1&this.f||m(this)};var w=e=>"object"==typeof e&&null!==e,x=e=>w(e)&&9===e.nodeType,C=e=>w(e)&&e===e.window,E=e=>w(e)&&void 0!==e.nodeType;function L(e){return(x(e)?e:C(e)?e.document:e?.ownerDocument??document).documentElement}var A=()=>"undefined"!=typeof document;function _(e){let t=e.composedPath?.()??e.nativeEvent?.composedPath?.();return t?.[0]??e.target}var q=e=>"object"==typeof e&&null!==e&&1===e.nodeType;let O=HTMLElement;var S=/[\s\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]+/,j=/[A-ZÀ-Ý\u00C0-\u00D6\u00D9-\u00DD][a-zà-ÿ]/g,M=/[A-ZÀ-Ý\u00C0-\u00D6\u00D9-\u00DD]+/g,D=n(12041),J=class{constructor(e){this.impl=new d(e)}get value(){return this.impl.value}set value(e){this.impl.value=e}get(){return this.impl.value}set(e){this.impl.value=e}peek(){return this.impl.peek()}},R=class{constructor(e){this.impl=new h(e)}get value(){return this.impl.value}get(){return this.impl.value}peek(){return this.impl.peek()}};function P(e){return new J(e)}function V(e){return new R(e)}function F(e,t){let n;let i=()=>{null==n||n(),n=void 0};return e.addConnectedCallback(()=>(null==n||n(),n=k(t),i)),i}var B=class extends Event{constructor(e,t){super("aria-ui/context-request",{bubbles:!0,composed:!0}),this.key=e,this.callback=t}},N=class extends Event{constructor(e){super("aria-ui/context-provider",{bubbles:!0,composed:!0}),this.key=e}},Z=class{constructor(e,t){this.key=e,this.defaultValue=t,this.provide=this.provide.bind(this),this.consume=this.consume.bind(this)}provide(e,t){let n=new Map,i=i=>{let r=_(i);!(e===r||i.key!==this.key||n.has(i.callback))&&r&&(i.stopPropagation(),i.callback(t),n.set(i.callback,r))},r=t=>{let i=_(t);if(e===i||t.key!==this.key||!i)return;t.stopPropagation();let r=Array.from(n.entries());for(let[e,t]of(n.clear(),r))t.dispatchEvent(new B(this.key,e))};e.addConnectedCallback(()=>($(L(e)),e.addEventListener("aria-ui/context-request",i),e.addEventListener("aria-ui/context-provider",r),e.dispatchEvent(new N(this.key)),()=>{e.removeEventListener("aria-ui/context-request",i),e.removeEventListener("aria-ui/context-provider",r)}))}consume(e){let t,n,i;let r=P(this.defaultValue);e.addConnectedCallback(()=>($(L(e)),e.dispatchEvent(new B(this.key,e=>{null==t||t(),t=k(()=>{r.set(e.get())}),n=e,void 0!==i&&(e.set(i),i=void 0)})),()=>{null==t||t(),t=void 0,n=void 0}));let o=()=>r.get(),l=e=>{n?n.set(e):i=e};return{get:o,get value(){return o()},set:l,set value(value){l(value)},peek:()=>r.peek()}}};function T(e,t){return new Z("string"==typeof e?`aria-ui/context/${e}`:e,t)}var U=new WeakSet;function $(e){U.has(e)||(U.add(e),function(e){let t=new Map,n=e=>{let n=t.get(e);if(void 0!==n)return t.delete(e),n},i=e=>{let n=t.get(e);return void 0===n&&(n={callbacks:new WeakMap,requests:[]},t.set(e,n)),n};e.addEventListener("aria-ui/context-request",e=>{let t=_(e);if(!t)return;let n=e.callback,r=i(e.key),o=r.callbacks.get(t);void 0===o&&(o=new WeakSet,r.callbacks.set(t,o)),o.has(n)||(o.add(n),r.requests.push({elementRef:new WeakRef(t),callbackRef:new WeakRef(n)}))}),e.addEventListener("aria-ui/context-provider",e=>{let t=n(e.key);if(void 0===t)return;let{requests:i}=t;for(let{elementRef:t,callbackRef:n}of i){let i=t.deref(),r=n.deref();void 0===i||void 0===r||i.dispatchEvent(new B(e.key,r))}})}(e))}function H(e,t,n,i){return F(e,()=>(e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)}))}function K(e,t,n){return F(e,()=>{let i=n();null==i?e.removeAttribute(t):e.setAttribute(t,String(i))})}function W(e,t,n){return K(e,t,n)}function X(e,t){return K(e,"role","string"==typeof t?()=>t:t)}function I(e,t,n={attributeFilter:["aria-hidden","aria-selected","aria-disabled"],childList:!0,subtree:!0}){let i=function(e,t){let n=P(1);return F(e,()=>{let i=new MutationObserver(e=>{e.length>0&&n.set(n.get()+1)});return i.observe(e,t),()=>{i.disconnect()}}),n}(e,n);return V(()=>(i.get(),e.querySelectorAll(t)))}function z(e,t){return F(e,()=>{let e;let n=t();if(!n)return;let i=requestAnimationFrame(()=>{null==e||e(),e=n()||void 0});return()=>{cancelAnimationFrame(i),null==e||e(),e=void 0}})}function Y(e){if(e.fromAttribute)return e.fromAttribute;switch(typeof e.default){case"string":return t=>null==t?e.default:String(t);case"number":return t=>null==t?e.default:Number(t);case"boolean":return t=>null==t?e.default:"false"!==t}}function G(e){if(e.toAttribute)return e.toAttribute;switch(typeof e.default){case"string":case"number":case"boolean":return String}}var Q=Object.entries;function ee(e){let t={};for(let[n,i]of Q(e))t[n]=i.get();return t}Object.keys;var et=class extends O{constructor(){super(...arguments),this._connectedCallbacks=[],this._disconnectedCallbacks=[],this._connected=!1}connectedCallback(){if(!this._connected)for(let e of(this._connected=!0,this._connectedCallbacks)){let t=e();t&&this._disconnectedCallbacks.push(t)}}disconnectedCallback(){if(this._connected){for(let e of(this._connected=!1,this._disconnectedCallbacks))e();this._disconnectedCallbacks=[]}}addConnectedCallback(e){if(this._connectedCallbacks.push(e),!this._connected)return;let t=e();t&&this._disconnectedCallbacks.push(t)}};function en({props:e,events:t,setup:n}){let[i,r,o]=function(e){let[t,n,i]=function(e){let t=[],n=new Map,i=new Map;for(let[o,l]of Object.entries(e)){var r;if(!1===l.attribute)continue;let e="string"==typeof l.attribute?l.attribute:o.replace(j,function(e){return" "+(e[0].toLowerCase()||e[0])+e[1]}).replace(M,function(e){return" "+e.toLowerCase()}).trim().split(S).join("-").replace(/^-/,"").replace(/-\s*$/,"");t.push(e),n.set(e,o),i.set(o,e)}return[t,n,i]}(e),r=(0,D.A)(e,Y),o=(0,D.A)(e,G);return[t,(e,t,i)=>{let o=n.get(t);if(!o)return;let l=e[o];if(!l)return;let s=r[o];s&&l.set(s(i))},(t,n)=>{for(let[r,l]of i.entries()){let i=n[r];if(!i)continue;let s=o[r];s&&K(t,l,()=>{var t;let n=i.get();return n!==(null==(t=e[r])?void 0:t.default)?s(n):null})}}]}(e);class l extends et{constructor(){var i;super(),this._s=function(e){let t={};for(let[n,i]of Q(e))t[n]=P(i.default);return t}(e);let r=(i=this,function(e,n){var r,o,l;let s=t[e];if(!s)throw Error(`Event type "${String(e)}" is not defined`);let a=new CustomEvent(e,{detail:n,bubbles:null!=(r=s.bubbles)&&r,cancelable:null==(o=s.cancelable)||o,composed:null!=(l=s.composed)&&l});i.dispatchEvent(a)});n(this,{state:this._s,emit:r}),o(this,this._s)}attributeChangedCallback(e,t,n){r(this._s,e,n)}}return l.observedAttributes=i,function(e,t){for(let n of Object.keys(t))Object.defineProperty(e.prototype,n,{get(){return this._s[n].get()},set(e){this._s[n].set(e)}})}(l,e),l}function ei(e,t){"undefined"==typeof customElements||customElements.get(e)||customElements.define(e,t)}},4362:(e,t,n)=>{n.d(t,{Ak:()=>b,LY:()=>y,FA:()=>m});var i=n(62168),r=n(37907),o=e=>"object"==typeof e&&null!==e,l=e=>o(e)&&1===e.nodeType&&"string"==typeof e.nodeName,s=e=>o(e)&&9===e.nodeType,a=e=>o(e)&&void 0!==e.nodeType,u=e=>a(e)&&11===e.nodeType&&"host"in e,c=()=>"undefined"!=typeof document,d=e=>"object"==typeof e&&null!==e&&1===e.nodeType,f=(0,i.q6)("overlay/reference",null);function p(e){return{boundary:e.boundary,rootBoundary:e.rootBoundary,elementContext:e.elementContext,altBoundary:e.altBoundary,padding:e.overflowPadding}}function v(e,t){let n=h(e);return Math.round(t*n)/n}function h(e){return function e(t){return u(t)?e(t.host):s(t)?t.defaultView??window:l(t)?t.ownerDocument?.defaultView??window:window}(e).devicePixelRatio||1}var g="undefined"!=typeof HTMLElement&&Object.hasOwn(HTMLElement.prototype,"popover");function m(e,t,n){(0,i.NR)(e,()=>{let o=(0,i.LG)(t),l=n.reference.get();return()=>(function(e,t,n){if(!e||!t)return;let i=[function(e){if(null!=e.offset)return(0,r.cY)(e.offset)}(n),function(e){if(e.flip)return(0,r.UU)({...p(e),fallbackPlacements:!0===e.flip?void 0:e.flip,crossAxis:!1})}(n),function(e){if(e.shift)return(0,r.BN)({...p(e),mainAxis:e.shift,crossAxis:e.overlap})}(n),function(e){if(e.fitViewport||e.sameWidth||e.sameHeight)return(0,r.Ej)({...p(e),apply({elements:t,rects:n,availableHeight:i,availableWidth:r}){let o=t.floating;e.sameWidth&&(o.style.width=`${Math.round(n.reference.width)}px`),e.sameHeight&&(o.style.height=`${Math.round(n.reference.height)}px`),e.fitViewport&&(o.style.maxWidth=`${Math.floor(r)}px`,o.style.maxHeight=`${Math.floor(i)}px`)}})}(n),function(e){if(e.inline)return(0,r.mG)()}(n),function(e){if(e.hide)return(0,r.jD)({padding:e.overflowPadding,elementContext:"reference"})}(n)],{placement:o,strategy:l}=n,s=!1,a=async()=>{var a,u,c;if(!t||!e||s)return;n.hoist&&g&&(e.style.margin="unset",e.setAttribute("popover","manual"),null==(a=e.showPopover)||a.call(e));let d=await (0,r.rD)(t,e,{placement:o,middleware:i,strategy:l});if(s)return;if(n.hide){let t=(null==(u=d.middlewareData.hide)?void 0:u.escaped)||(null==(c=d.middlewareData.hide)?void 0:c.referenceHidden);e.style.visibility=t?"hidden":"visible"}let f=v(e,d.x),p=v(e,d.y);e.style.position=d.strategy,n.transform?(e.style.left="0",e.style.top="0",e.style.transform=`translate3d(${f}px,${p}px,0)`,h(e)>=1.5&&(e.style.willChange="transform")):(e.style.left=`${f}px`,e.style.top=`${p}px`,e.style.removeProperty("transform"));let[m,y]=function(e){let[t,n="center"]=e.split("-");return[t,n]}(d.placement);for(let[t,n]of Object.entries({"data-side":m,"data-align":y,"data-mounted":""}))e.setAttribute(t,n)},u="boolean"==typeof n.autoUpdate?void 0:n.autoUpdate,c=n.autoUpdate?(0,r.ll)(t,e,a,u):void 0;return n.autoUpdate||a(),()=>{s=!0,null==c||c()}})(e,l,o)})}var y={strategy:{default:"absolute"},placement:{default:"top"},autoUpdate:{default:!0},hoist:{default:!0},transform:{default:!1},offset:{default:6,fromAttribute:e=>{if(null!=e)try{return JSON.parse(e)}catch(e){return}},toAttribute:JSON.stringify},flip:{default:!0},shift:{default:!0},overlap:{default:!1},fitViewport:{default:!1},sameWidth:{default:!1},sameHeight:{default:!1},inline:{default:!1},hide:{default:!1},boundary:{default:"clippingAncestors"},rootBoundary:{default:"viewport"},overflowPadding:{default:4},elementContext:{default:"floating"},altBoundary:{default:!1}},b={};(0,i.Xq)({props:{},events:{},setup:function(e){let t=f.consume(e);(0,i.vJ)(e,()=>{t.set(e)})}}),(0,i.Xq)({props:y,events:b,setup:function(e,{state:t}){let n=f.consume(e);m(e,t,{reference:n})}}),(0,i.Xq)({props:{},events:{},setup:function(e){let t=(0,i.n5)(null);f.provide(e,t)}})},85165:(e,t,n)=>{n.d(t,{x:()=>r});var i=n(62168);function r(e,t){let n=(0,i.n5)(t.peek());return(0,i.vJ)(e,()=>{n.get()?"none"===e.style.display&&(e.style.display=""):e.style.display="none"}),(0,i.vJ)(e,()=>{if(t.get()){n.set(!0);return}let i=e.getAnimations();if(0===i.length){n.set(!1);return}let r=!1;return Promise.all(i.map(e=>e.finished)).then(()=>{r||n.set(!1)}).catch(e=>{throw Error("[aria-ui] Failed to wait for animation to finish",{cause:e})}),()=>{r=!0}}),n}},79481:(e,t,n)=>{n.d(t,{a:()=>l});var i=n(39781),r=n(22155),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function l(e,t,n,l){let s=n.includes("editor"),a=Object.fromEntries(l.map(e=>[e.toLowerCase(),e])),u=(0,r.forwardRef)((t,u)=>{var c;let[d,f]=(0,r.useState)(null),p={},v={},h=(0,r.useRef)({}),g={};for(let[e,i]of Object.entries(t))if(void 0!==i){if(n.includes(e)){p[e]=i;continue}if(e.startsWith("on")){let t=a[e.slice(2).toLowerCase()],n=i;if(t&&n){let e=t.endsWith("Change")?e=>{n(e.detail)}:n;g[t]=e}}"className"===e?v.class=i:v[e]=i}let m=(0,i.m)();return s&&m&&!p.editor&&(p.editor=m),o(()=>{if(d)for(let[e,t]of Object.entries(p))void 0!==t&&(d[e]=t)},[d,...n.map(e=>p[e])]),o(()=>{h.current=g}),o(()=>{if(!d)return;let e={};for(let t of l)e[t]=e=>{var n,i;null==(i=(n=h.current)[t])||i.call(n,e)};for(let[t,n]of Object.entries(e))d.addEventListener(t,n);return()=>{for(let[t,n]of Object.entries(e))d.removeEventListener(t,n)}},[d]),(0,r.createElement)(e,{...v,ref:(c=[u,f],e=>{c.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})})})});return u.displayName=t,u}},61372:(e,t,n)=>{n.d(t,{KX:()=>Y,JK:()=>G,sU:()=>Q});var i=n(79481),r=n(62168),o=n(73887),l=n(85165);function s(e){return e.value||e.textContent||e.innerText||e.innerHTML}var a=class{constructor(e,t=!0){for(let n of(this.loop=t,this._items=[],this._indexes=new Map,e)){let e=s(n);!e||this._indexes.has(e)||(this._indexes.set(e,this._items.length),this._items.push(n))}}size(){return this._items.length}_find(e,t){let n=e,i=this._items.length;for(let e=0;e<i;e++){if(n<0||n>=i){if(this.loop)n=(n+i)%i;else break}let e=this._items[n];if(e&&!(e.disabled||"true"===e.getAttribute("aria-disabled")||"true"===e.getAttribute("aria-hidden")))return s(e);n+=t}return null}first(){return this._find(0,1)}last(){return this._find(this.size()-1,-1)}next(e){if(null==e)return this.first();let t=this._indexes.get(e);return null==t?this.first():this._find(t+1,1)}prev(e){if(null==e)return this.last();let t=this._indexes.get(e);return null==t?this.last():this._find(t-1,-1)}getElement(e){var t;let n=this._indexes.get(e);return null==n?null:null!=(t=this._items[n])?t:null}getValues(){return this._items.map(s)}},u=(0,r.q6)("ListboxItem/selectedValue",""),c=(0,r.q6)("ListboxItem/focusedValue",""),d=(0,r.q6)("Listbox/availableValueSet",new Set),f=(0,r.q6)("Listbox/pointerMoving",!1),p=(0,r.q6)("Listbox/listboxEmitter",null),v=(0,r.q6)("Listbox/listboxItemEmitter",null);function h(e){let t=d.consume(e),n=(0,r.KZ)(()=>0===t.get().size);(0,r.Vl)(e,"aria-disabled",()=>n.get()?void 0:"true"),(0,r.Vl)(e,"aria-hidden",()=>n.get()?void 0:"true"),(0,l.x)(e,n)}function g(e,{state:t,emit:n}){let i=u.consume(e),o=c.consume(e),s=f.consume(e),a=p.consume(e),h=v.consume(e);(0,r.nF)(e,"option"),(0,r.ML)(e,"pointerenter",()=>{let e=t.value.get(),n=s.get();null!=e&&n&&o.set(e)}),(0,r.ML)(e,"pointerdown",()=>{var e;let r=t.value.get();null!=r&&(i.get()!==r&&i.set(r),n("select",void 0),null==(e=a.get())||e())});let g=(0,r.KZ)(()=>!!t.value.get()&&t.value.get()===i.get());(0,r.Vl)(e,"aria-selected",()=>g.get()?"true":"false"),(0,r.Cy)(e,"data-selected",()=>g.get()?"true":void 0);let m=(0,r.KZ)(()=>!!t.value.get()&&t.value.get()===o.get());(0,r.Cy)(e,"data-focused",()=>m.get()?"true":void 0);let y=d.consume(e),b=(0,r.KZ)(()=>y.get().has(t.value.get()||""));(0,r.Vl)(e,"aria-disabled",()=>b.get()?void 0:"true"),(0,r.Vl)(e,"aria-hidden",()=>b.get()?void 0:"true"),(0,r.vJ)(e,()=>{m.get()&&b.get()&&h.set(()=>{n("select",void 0)})}),(0,r.vJ)(e,()=>{!b.get()&&(m.get()&&o.set(""),g.get()&&i.set(""))}),(0,l.x)(e,b)}var m={select:{}};function y(e,{state:t,emit:n}){(0,r.nF)(e,"listbox");let i=(0,r.n5)("");u.provide(e,t.value),c.provide(e,i),f.provide(e,function(e){let t=(0,r.n5)(!1),n=0;return(0,r.ML)(e,"pointermove",()=>{n=Date.now(),t.set(!0)}),(0,r.ML)(e,"pointerenter",()=>{n=Date.now(),t.set(!0)}),(0,r.vJ)(e,()=>{if(!t.get())return;let e=setInterval(()=>{Date.now()-n>200&&(t.set(!1),n=0)},50);return()=>clearInterval(e)}),t}(e));let o=(0,r.n5)(()=>{n("valueChange",t.value.get())});p.provide(e,o);let l=(0,r.n5)(null);v.provide(e,l);let s=(0,r.U1)(e,'[role="option"]'),h=(0,r.KZ)(()=>new a(Array.from(s.get()))),g=(0,r.KZ)(()=>h.get().first());(0,r.vJ)(e,()=>{t.autoFocus.get()&&(t.query.get(),i.set(g.get()||""))}),(0,r.vJ)(e,()=>{e.tabIndex=0});let m=(0,r.KZ)(()=>{let e=t.query.get(),n=h.get().getValues(),i=t.filter.get();return new Set(i?n.filter(t=>i({query:e,value:t})):n)});d.provide(e,m);let y=(0,r.KZ)(()=>m.get().size>0);!function(e,t,n,i,o,l,s){let a=()=>{let e=t.peek().getElement(n.get());null==e||e.scrollIntoView({block:"nearest"})},u=e=>{var i,r;if(!e.defaultPrevented&&!e.isComposing&&o.get()){switch(e.key){case"ArrowDown":n.set(t.get().next(n.get())||""),a();break;case"ArrowUp":n.set(t.get().prev(n.get())||""),a();break;case"Home":n.set(t.get().first()||""),a();break;case"End":n.set(t.get().last()||""),a();break;case"Enter":n.get()&&(null==(i=s.get())||i(),null==(r=l.get())||r());break;default:return}e.preventDefault()}};(0,r.vJ)(e,()=>{let t=i.get()||e;return t.addEventListener("keydown",u),()=>t.removeEventListener("keydown",u)})}(e,h,i,t.eventTarget,y,o,l)}var b={value:{default:""},selectionMode:{default:"single"},autoFocus:{default:!1},query:{default:""},filter:{default:({value:e,query:t})=>!t||e.toLowerCase().replace(/\s/g,"").includes(t.toLowerCase().replace(/\s/g,""))},eventTarget:{default:void 0}},k={valueChange:{}};(0,r.Xq)({props:{},events:{},setup:h}),(0,r.Xq)({props:{value:{default:""}},events:m,setup:g}),(0,r.Xq)({props:b,events:k,setup:y});var w=n(48311),x=n(17879),C=n(4362),E=n(17258),L=n(89983);function A({state:e}){return e.selection.empty&&!function(e){for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.code)return!0;return e.marks().some(e=>"code"===e.type.name)}(e.selection.$from)}function _(e){return q.getState(e)}var q=new E.hs("prosekit-autocomplete"),O=(0,x.rr)({reduce:()=>{let e=[],t=function({getRules:e}){return new E.k_({key:q,state:{init:()=>({active:!1,ignore:null,matching:null}),apply:(t,n,i,r)=>{var o;let l=t.getMeta(q);if(!t.docChanged&&i.selection.eq(r.selection)&&!l)return n;if(l)return l;let s=function(e,t){let n=e.selection.$from,i=n.parentOffset,r=n.parent.textBetween(Math.max(0,i-200),i,null,w.zL);for(let i of t){if(!i.canMatch({state:e}))continue;i.regex.lastIndex=0;let t=i.regex.exec(r);if(!t)continue;let o=n.pos-r.length+t.index;return{active:!0,ignore:null,matching:{rule:i,match:t,from:o,to:n.pos}}}return{active:!1,ignore:null,matching:null}}(r,e());return s.active&&null!=n.ignore&&(null==(o=s.matching)?void 0:o.from)===n.ignore?n:s}},view:()=>({update:(e,t)=>{var n,i,r;let o=_(t),l=_(e.state);if((null==o?void 0:o.active)&&o.matching&&o.matching.rule!==(null==(n=null==l?void 0:l.matching)?void 0:n.rule)&&(null==(r=(i=o.matching.rule).onLeave)||r.call(i)),(null==l?void 0:l.active)&&l.matching&&l.matching.from!==l.ignore){let{from:t,to:n,match:i,rule:r}=l.matching,o=e.state.doc.textBetween(t,n,null,w.zL);r.onMatch({state:e.state,match:i,from:t,to:n,deleteMatch:()=>{e.state.doc.textBetween(t,n,null,w.zL)===o&&e.dispatch(e.state.tr.delete(t,n))},ignoreMatch:()=>{var n,i;e.dispatch((n=e.state.tr,i={active:!1,ignore:t,matching:null},n.setMeta(q,i)))}})}}}),props:{decorations:e=>{let t=_(e);if((null==t?void 0:t.active)&&t.matching){let{from:n,to:i}=t.matching,r=L.NZ.inline(n,i,{class:"prosemirror-prediction-match"});return L.zF.create(e.doc,[r])}return null}}})}({getRules:()=>e});return function(n){return e=n,t}},parent:w.b1,singleton:!0}),S=class{constructor(e){var t;this.regex=e.regex,this.onMatch=e.onEnter,this.onLeave=e.onLeave,this.canMatch=null!=(t=e.canMatch)?t:A}},j=h,M={},D={},J=class extends(0,r.Xq)({props:M,events:D,setup:j}){};(0,r.Dp)("prosekit-autocomplete-empty",J);var R=(0,r.q6)("prosekit/autocomplete-popover/query",""),P=(0,r.q6)("prosekit/autocomplete-popover/onSubmit",null),V=(0,r.q6)("prosekit/autocomplete-popover/open",!1);function F(e,{state:t,emit:n}){g(e,{state:t,emit:n});let i=V.consume(e);(0,r.vJ)(e,()=>{var n;!t.value.peek()&&i.get()&&t.value.set(null!=(n=e.textContent)?n:"")})}var B={value:{default:""}},N=m,Z=class extends(0,r.Xq)({props:B,events:N,setup:F}){};function T(e,{state:t,emit:n}){let i=V.consume(e),o=R.consume(e),l=P.consume(e),s=function(e,t,n){let i=[];return(0,r.vJ)(e,()=>{let e=n.get();if(!e)return;let r=(0,w.Ak)("keydown",(e,n)=>!e.composing&&!n.defaultPrevented&&!!t.get()&&(i.forEach(e=>e(n)),n.defaultPrevented));return e.use((0,w.vB)(r,x.bx.highest))}),{addEventListener:(e,t)=>{"keydown"===e&&i.push(t)},removeEventListener:(e,t)=>{if("keydown"===e){let e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}}(e,i,t.editor),a=function(e,t){let n={...e};for(let e of Object.keys(t))n[e]||(n[e]=(0,r.n5)(t[e].default));return n}({filter:t.filter,eventTarget:(0,r.n5)(s)},b);(0,r.vJ)(e,()=>{e.addEventListener("valueChange",()=>{var e;l&&(null==(e=l.get())||e())})}),y(e,{state:a,emit:n}),(0,r.vJ)(e,()=>{a.query.set(o.get())}),(0,r.vJ)(e,()=>{i.get()||(a.value.set(""),o.set(""))}),(0,r.vJ)(e,()=>{if(i.get()){let e=!1;return requestAnimationFrame(()=>{e||a.autoFocus.set(!0)}),()=>{e=!0}}a.autoFocus.set(!1)}),(0,r.vJ)(e,()=>{e.tabIndex=-1})}(0,r.Dp)("prosekit-autocomplete-item",Z);var U={filter:b.filter,editor:{default:null}},$=k,H=class extends(0,r.Xq)({props:U,events:$,setup:T}){};function K(e,{state:t,emit:n}){let{editor:i,regex:s,...a}=t,u=(0,r.n5)(null),c=(0,r.n5)(""),d=(0,r.n5)(null),f=(0,r.n5)(null),p=(0,r.KZ)(()=>!!u.get());R.provide(e,c),P.provide(e,f),V.provide(e,p),function(e,t,n){let i=(0,w.vB)((0,w.xC)({Escape:n}),x.bx.highest);(0,o.y)(e,t,i)}(e,i,()=>{if(!p.get())return!1;let e=d.peek();return!!e&&(e(),!0)}),(0,r.vJ)(e,()=>{var e;let t=i.get(),n=s.get();if(!t||!n)return;let r=(e=new S({regex:n,onEnter:e=>{let n=t.view.dom.querySelector(".prosemirror-prediction-match");n&&u.set(n),c.set(e.match[0].toLowerCase().replace(/[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~]/g,"").replace(/\s\s+/g," ").trim()),d.set(e.ignoreMatch),f.set(e.deleteMatch)},onLeave:()=>{u.set(null),c.set("")}}),(0,x.Ld)(O,[e]));return t.use(r)}),(0,C.FA)(e,a,{reference:u}),(0,r.Cy)(e,"data-state",()=>p.get()?"open":"closed"),(0,l.x)(e,p);let v=function(e){let t=(0,r.n5)(!0);return(0,r.vJ)(e,()=>{requestAnimationFrame(()=>{t.set(!1)})}),t}(e);(0,r.vJ)(e,()=>{let e=c.get();v.peek()||n("queryChange",e)}),(0,r.NR)(e,()=>{let e=p.get();return()=>{n("openChange",e)}})}(0,r.Dp)("prosekit-autocomplete-list",H);var W="undefined"!=typeof document&&document.querySelector("body"),X={...C.LY,editor:{default:null},regex:{default:null},placement:{default:"bottom-start"},offset:{default:4},inline:{default:!0},hoist:{default:!0},fitViewport:{default:!0},boundary:{default:W||"clippingAncestors"},overflowPadding:{default:8}},I={...C.Ak,openChange:{},queryChange:{}},z=class extends(0,r.Xq)({props:X,events:I,setup:K}){};(0,r.Dp)("prosekit-autocomplete-popover",z),(0,i.a)("prosekit-autocomplete-empty","AutocompleteEmpty",Object.keys(M),Object.keys(D));var Y=(0,i.a)("prosekit-autocomplete-item","AutocompleteItem",Object.keys(B),Object.keys(N)),G=(0,i.a)("prosekit-autocomplete-list","AutocompleteList",Object.keys(U),Object.keys($)),Q=(0,i.a)("prosekit-autocomplete-popover","AutocompletePopover",Object.keys(X),Object.keys(I))},78219:(e,t,n)=>{n.d(t,{R:()=>v});var i=n(79481),r=n(73887),o=n(62168),l=n(4362),s=n(85165),a=n(48311),u=n(17879);function c(e,{state:t,emit:n}){let{editor:i,defaultOpen:c,open:d,...f}=t,p=function(e,t){let n=(0,o.n5)(null),i=!1;return!function(e,t,n){let i=(0,a.ge)(n);(0,r.y)(e,t,i)}(e,t,e=>{i=e}),!function(e,t,n){let i=(0,a.Fu)(n);(0,r.y)(e,t,i)}(e,t,t=>{!i&&e.contains(e.ownerDocument.activeElement)||n.set(function(e){if("undefined"==typeof window||e.isDestroyed)return;let t=e.state.selection;if(!t.empty&&!(0,a.I7)(t)&&(0,u.eE)(t)&&(0,a.TN)(e.state.doc,t.from,t.to))return function(e){let t=function(e){let t=e.dom.ownerDocument.defaultView,n=null==t?void 0:t.getSelection();if(!n||n.isCollapsed)return;let i="number"==typeof n.rangeCount&&n.rangeCount>0&&n.getRangeAt(0);if(i)return i}(e);if(t)return{contextElement:e.dom,getBoundingClientRect:()=>t.getBoundingClientRect(),getClientRects:()=>t.getClientRects()}}(e)||function(e){let t=e.dom.querySelectorAll(".prosekit-virtual-selection");if(0===t.length)return;if(1===t.length)return t[0];let n=Array.from(t);return{contextElement:n[0],getBoundingClientRect:()=>n[0].getBoundingClientRect(),getClientRects:()=>n.map(e=>e.getBoundingClientRect())}}(e)}(t)||null)}),n}(e,i),v=(0,o.KZ)(()=>!!p.get());(0,o.vJ)(e,()=>{let e=v.get(),t=c.peek(),i=d.peek();(t||i)&&n("openChange",e)}),(0,o.vJ)(e,()=>{let e=v.get(),t=c.peek();e&&t?d.set(!0):e||d.set(!1)}),function(e,t,n){let i=(0,a.xC)(n);(0,r.y)(e,t,i)}(e,i,{Escape:()=>!!(t.dismissOnEscape.peek()&&d.peek())&&(d.set(!1),n("openChange",!1),!0)}),(0,l.FA)(e,f,{reference:p}),(0,o.Cy)(e,"data-state",()=>d.get()?"open":"closed"),(0,s.x)(e,d)}var d=Object.freeze({...l.LY,editor:{default:null},defaultOpen:{default:!0},open:{default:!1},dismissOnEscape:{default:!0},placement:{default:"top"},offset:{default:12},hide:{default:!0},overlap:{default:!0},inline:{default:!0},overflowPadding:{default:8}}),f={...l.Ak,openChange:{}},p=class extends(0,o.Xq)({props:d,events:f,setup:c}){};(0,o.Dp)("prosekit-inline-popover",p);var v=(0,i.a)("prosekit-inline-popover","InlinePopover",Object.keys(d),Object.keys(f))},73887:(e,t,n)=>{n.d(t,{y:()=>r});var i=n(62168);function r(e,t,n){(0,i.vJ)(e,()=>{var e;return null==(e=t.get())?void 0:e.use(n)})}},53106:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(22155);let r=i.forwardRef(function(e,t){let{title:n,titleId:r,...o}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinejoin:"round",d:"M6.75 3.744h-.753v8.25h7.125a4.125 4.125 0 0 0 0-8.25H6.75Zm0 0v.38m0 16.122h6.747a4.5 4.5 0 0 0 0-9.001h-7.5v9h.753Zm0 0v-.37m0-15.751h6a3.75 3.75 0 1 1 0 7.5h-6m0-7.5v7.5m0 0v8.25m0-8.25h6.375a4.125 4.125 0 0 1 0 8.25H6.75m.747-15.38h4.875a3.375 3.375 0 0 1 0 6.75H7.497v-6.75Zm0 7.5h5.25a3.75 3.75 0 0 1 0 7.5h-5.25v-7.5Z"}))})},92973:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(22155);let r=i.forwardRef(function(e,t){let{title:n,titleId:r,...o}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.248 20.246H9.05m0 0h3.696m-3.696 0 5.893-16.502m0 0h-3.697m3.697 0h3.803"}))})}}]);