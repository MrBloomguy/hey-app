(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1432],{84664:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return t(49997)}])},62707:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var a=t(65723),r=t(45507),i=t(71180),n=t(99777),l=t(3817);let o=()=>(0,a.jsxs)("div",{className:"page-center flex-col",children:[(0,a.jsx)(r.A,{title:"Not logged in • ".concat(n.C3)}),(0,a.jsx)("img",{alt:"Logo",className:"size-20",height:80,src:"/logo.png",width:80}),(0,a.jsxs)("div",{className:"py-10 text-center",children:[(0,a.jsx)(l.H2,{className:"mb-4",children:"Not logged in!"}),(0,a.jsx)("div",{className:"mb-4",children:"Log in to continue"}),(0,a.jsx)(i.A,{isBig:!0})]})]})},49997:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(65723),r=t(45507),i=t(62707),n=t(56495),l=t(99777),o=t(90823),c=t(74716),d=t(3817),u=t(91983),m=t(22155),p=t(84865),x=t(26952),v=t(60698);let N=e=>{let{tabType:s}=e,t=e=>{n.s.track(c.rO.SWITCH_ANALYTICS_TAB,{analytics_type:e.toLowerCase()})},r=[{icon:(0,a.jsx)(x.A,{className:"size-4"}),name:"Overview",type:o.qP.Overview},{icon:(0,a.jsx)(v.A,{className:"size-4"}),name:"Impressions",type:o.qP.Impressions}];return(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{className:"mt-3 flex gap-3 overflow-x-auto px-5 pb-2 sm:mt-0 sm:px-0 md:pb-0",children:r.map(e=>(0,a.jsx)(d.KM,{active:s===e.type,icon:e.icon,name:e.name,onClick:()=>t(e.type),type:e.type.toLowerCase()},e.type))})})};var E=t(96898),L=t(69456),j=t(18195),g=t(68243),C=t(45571),y=t(55654),I=t(37440),O=t(3156),h=t.n(O);y.t1.register(y.PP,y.kc,y.E8,y.hE,y.m_,y.s$);let w=()=>{let e=async()=>{try{let{data:e}=await C.A.get("".concat(l.uI,"/analytics/impressions"),{headers:(0,L.r)()});return e.result}catch(e){return[]}},{data:s,isLoading:t}=(0,g.I)({queryFn:e,queryKey:["getImpressions"]});return t?(0,a.jsx)(d.Zp,{children:(0,a.jsx)(E.A,{className:"my-10",message:"Loading impressions"})}):s?(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{title:"Impressions"}),(0,a.jsx)("div",{className:"m-5",children:(0,a.jsx)(I.yP,{data:{datasets:[{backgroundColor:h().blue[500],data:s.map(e=>e.impressions),label:"Impressions",borderRadius:5}],labels:s.map(e=>(0,j.A)(e.date,"MMM D"))},options:{plugins:{legend:{display:!1}},responsive:!0}})})]}):null};y.t1.register(y.PP,y.kc,y.E8,y.hE,y.m_,y.s$);let S=()=>{let[e,s]=(0,m.useState)("Likes"),[t,r]=(0,m.useState)("None"),i=async()=>{try{let{data:e}=await C.A.get("".concat(l.uI,"/analytics/overview"),{headers:(0,L.r)()});return e.result}catch(e){return[]}},{data:n,isLoading:o}=(0,g.I)({queryFn:i,queryKey:["getOverview"]});if(o)return(0,a.jsx)(d.Zp,{children:(0,a.jsx)(E.A,{className:"my-10",message:"Loading overview"})});if(!n)return null;let c=["None","Likes","Comments","Collects","Mirrors","Quotes","Mentions","Follows","Bookmarks"],u=c.filter(e=>"None"!==e).map(s=>({label:s,selected:s===e,value:s})),p=c.filter(s=>s!==e).map(e=>({label:e,selected:e===t,value:e}));return(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{title:"Profile overview"}),(0,a.jsxs)("div",{className:"m-5 grid grid-cols-2 gap-4",children:[(0,a.jsx)(d.l6,{defaultValue:e,onChange:e=>s(e),options:u}),(0,a.jsx)(d.l6,{defaultValue:t,onChange:e=>r(e),options:p})]}),(0,a.jsx)("div",{className:"divider"}),(0,a.jsx)("div",{className:"m-5",children:(0,a.jsx)(I.yP,{data:{datasets:[{backgroundColor:h().green[500],borderRadius:"None"===t?5:0,data:n.map(s=>s[e.toLowerCase()]),label:e},{backgroundColor:h().blue[500],borderRadius:5,data:n.map(e=>e[t.toLowerCase()]),label:t}],labels:n.map(e=>(0,j.A)(e.date,"MMM D"))},options:{scales:{x:{stacked:!0},y:{stacked:!0}},responsive:!0}})})]})},A=()=>{let{query:{type:e}}=(0,u.useRouter)(),{currentAccount:s}=(0,p.E)();(0,m.useEffect)(()=>{n.s.track(c.zQ,{page:"analytics"})},[]);let t=[o.qP.Overview.toLowerCase(),o.qP.Impressions.toLowerCase()],x=e&&t.includes(e)?e.toString().toUpperCase():o.qP.Overview;return s?(0,a.jsxs)(d.JT,{children:[(0,a.jsx)(r.A,{title:"Analytics • Impressions • ".concat(l.C3)}),(0,a.jsxs)(d.Fj,{className:"space-y-5",children:[(0,a.jsx)(N,{tabType:x}),x===o.qP.Overview&&(0,a.jsx)(S,{}),x===o.qP.Impressions&&(0,a.jsx)(w,{})]})]}):(0,a.jsx)(i.A,{})}},90823:(e,s,t)=>{"use strict";t.d(s,{$4:()=>r,Ai:()=>n,Dx:()=>l,O$:()=>a,q:()=>i,qP:()=>o});var a=function(e){return e.FOLLOWING="FOLLOWING",e.FORYOU="FORYOU",e.PREMIUM="PREMIUM",e.PINNED="PINNED",e}({}),r=function(e){return e.LATEST="LATEST",e.PROFILES="PROFILES",e.REPORTS="REPORTS",e.SEARCH="SEARCH",e}({}),i=function(e){return e.Collects="COLLECTS",e.Feed="FEED",e.Media="MEDIA",e.Replies="REPLIES",e.Lists="LISTS",e}({}),n=function(e){return e.All="ALL",e.Collects="COLLECTS",e.Comments="COMMENTS",e.Likes="LIKES",e.Mentions="MENTIONS",e}({}),l=function(e){return e.All="ALL",e.Collects="COLLECTS",e.Comments="COMMENTS",e.Likes="LIKES",e.Mentions="MENTIONS",e}({}),o=function(e){return e.Overview="OVERVIEW",e.Impressions="IMPRESSIONS",e}({})}},e=>{var s=s=>e(e.s=s);e.O(0,[5352,7780,636,6593,8792],()=>s(84664)),_N_E=e.O()}]);