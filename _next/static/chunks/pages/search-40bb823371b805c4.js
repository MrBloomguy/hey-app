(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{47116:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return l(99189)}])},861:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var r=l(65723),s=l(19429),i=l(3817),a=l(36018),n=l(91983),o=l(22155),c=l(45199),d=l(51673);let u=e=>{let{items:t}=e,{pathname:l}=(0,n.useRouter)(),u=t.filter(e=>(null==e?void 0:e.enabled)!==!1),[x,h]=(0,o.useState)(u.find(e=>e.url===l)||u[0]);return(0,r.jsx)("div",{className:"mb-4 space-y-2",children:(0,r.jsx)(s.W1,{as:"div",className:"relative",children:e=>{let{open:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.IU,{className:(0,a.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":t,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!t}),children:[x.icon,(0,r.jsx)("div",{children:x.title})]}),(0,r.jsx)(c.A,{children:(0,r.jsx)(s.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,r.jsx)(i.Zp,{forceRounded:!0,children:u.map(e=>(0,r.jsxs)(s.Dr,{as:d.S,className:t=>{let{focus:l}=t;return(0,a.A)({"dropdown-active":l||x===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>h(e),children:[e.icon,(0,r.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var x=l(7606),h=l.n(x);let v=e=>{let{children:t,current:l,url:s}=e;return(0,r.jsx)(h(),{className:(0,a.A)({"font-bold text-black dark:text-white":l},{"bg-gray-300 dark:bg-gray-300/20":l},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:s,children:t})},p=e=>{let{items:t}=e,{pathname:l}=(0,n.useRouter)(),s=t.filter(e=>!1!==e.enabled);return(0,r.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:s.map(e=>(0,r.jsxs)(v,{current:l===e.url||!0===e.active,url:e.url,children:[e.icon,(0,r.jsx)("div",{children:e.title})]},e.title))})},m=e=>{let{items:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)(p,{items:t})}),(0,r.jsx)("div",{className:"block lg:hidden",children:(0,r.jsx)(u,{items:t})})]})}},99189:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>B});var r=l(65723),s=l(861),i=l(56495),a=l(84767),n=l(62231),o=l(74716),c=l(3817),d=l(91983),u=l(22155),x=l(1615),h=l(51581);let v=e=>{let{isBig:t=!1,showFollowUnfollowButton:l=!1}=e;return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(c.Zp,{className:"p-5",children:(0,r.jsx)(h.A,{isBig:t,showFollowUnfollowButton:l})}),(0,r.jsx)(c.Zp,{className:"p-5",children:(0,r.jsx)(h.A,{isBig:t,showFollowUnfollowButton:l})}),(0,r.jsx)(c.Zp,{className:"p-5",children:(0,r.jsx)(h.A,{isBig:t,showFollowUnfollowButton:l})})]})};var p=l(22690),m=l(14834),g=l(98345);let j=e=>{let{query:t}=e,l={limit:m.gTn.TwentyFive,query:t,where:{customFilters:[m.j7g.Gardeners]}},{data:s,error:i,fetchMore:a,loading:d}=(0,m.E2g)({skip:!t,variables:{request:l}}),u=null==s?void 0:s.searchProfiles,x=null==u?void 0:u.items,h=null==u?void 0:u.pageInfo,j=null==h?void 0:h.next,w=async()=>{j&&await a({variables:{request:{...l,cursor:null==h?void 0:h.next}}})};return d?(0,r.jsx)(v,{isBig:!0}):(null==x?void 0:x.length)===0?(0,r.jsx)(c.pp,{icon:(0,r.jsx)(n.A,{className:"size-8"}),message:(0,r.jsxs)("span",{children:["No profiles for ",(0,r.jsxs)("b",{children:["“",t,"”"]})]})}):i?(0,r.jsx)(c.Kw,{error:i,title:"Failed to load profiles"}):(0,r.jsx)(g.aY,{className:"[&>div>div]:space-y-3",computeItemKey:(e,t)=>"".concat(t.id,"-").concat(e),data:x,endReached:w,itemContent:(e,t)=>(0,r.jsx)(c.Zp,{className:"p-5",children:(0,r.jsx)(p.A,{hideFollowButton:!0,hideUnfollowButton:!0,isBig:!0,account:t,showBio:!0,source:o.vH.Search})}),useWindowScroll:!0})};var w=l(7006),f=l(74421),b=l(5519),y=l(44940),k=l(1814);let N={ranges:[],screenTop:0},A=e=>{var t;let{query:l}=e,{fetchAndStoreViews:s}=(0,y.B)(),{fetchAndStoreTips:i}=(0,k.J)(),a=(0,u.useRef)(null),n={limit:m.gTn.TwentyFive,query:l,where:{customFilters:[m.j7g.Gardeners]}},{data:o,error:d,fetchMore:x,loading:h}=(0,m.xAt)({onCompleted:async e=>{var t;let{searchPublications:l}=e,r=(null==l?void 0:null===(t=l.items)||void 0===t?void 0:t.map(e=>e.id))||[];await s(r),await i(r)},variables:{request:n}}),v=null==o?void 0:o.searchPublications,p=null==v?void 0:v.items,j=null==v?void 0:v.pageInfo,A=null==j?void 0:j.next,B=async()=>{if(A){var e,t;let{data:l}=await x({variables:{request:{...n,cursor:null==j?void 0:j.next}}}),r=(null==l?void 0:null===(t=l.searchPublications)||void 0===t?void 0:null===(e=t.items)||void 0===e?void 0:e.map(e=>e.id))||[];await s(r),await i(r)}};return h?(0,r.jsx)(f.A,{}):(null==p?void 0:p.length)===0?(0,r.jsx)(c.pp,{icon:(0,r.jsx)(b.A,{className:"size-8"}),message:(0,r.jsxs)("span",{children:["No publications for ",(0,r.jsxs)("b",{children:["“",l,"”"]})]})}):d?(0,r.jsx)(c.Kw,{error:d,title:"Failed to load publications"}):(0,r.jsx)(c.Zp,{children:(0,r.jsx)(g.aY,{className:"virtual-divider-list-window",computeItemKey:(e,t)=>"".concat(null==t?void 0:t.id,"-").concat(e),data:p,endReached:B,isScrolling:e=>{if(!e){var t;null==a||null===(t=a.current)||void 0===t||t.getState(e=>{N={...e}})}},itemContent:(e,t)=>(0,r.jsx)(w.A,{isFirst:0===e,isLast:e===((null==p?void 0:p.length)||0)-1,post:t}),ref:a,restoreStateFrom:0===N.ranges.length?null==N?void 0:null===(t=N.current)||void 0===t?void 0:t.getState(e=>e):N,useWindowScroll:!0})})},B=()=>{let{query:e}=(0,d.useRouter)(),t=Array.isArray(e.q)?encodeURIComponent(e.q.join(" ")):encodeURIComponent(e.q||"");if((0,u.useEffect)(()=>{i.s.track(o.zQ,{page:"search"})},[]),!e.q||!["profiles","posts"].includes(e.type))return(0,r.jsx)(x.default,{});let l=[{active:"posts"===e.type,icon:(0,r.jsx)(a.A,{className:"size-4"}),title:"Publications",url:"/search?q=".concat(t,"&type=posts")},{active:"profiles"===e.type,icon:(0,r.jsx)(n.A,{className:"size-4"}),title:"Profiles",url:"/search?q=".concat(t,"&type=profiles")}];return(0,r.jsxs)(c.JT,{children:[(0,r.jsx)(c.an,{children:(0,r.jsx)(s.A,{items:l})}),(0,r.jsxs)(c.$l,{children:["profiles"===e.type?(0,r.jsx)(j,{query:e.q}):null,"posts"===e.type?(0,r.jsx)(A,{query:e.q}):null]})]})}},5519:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var r=l(22155);let s=r.forwardRef(function(e,t){let{title:l,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),l?r.createElement("title",{id:s},l):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))})},84767:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var r=l(22155);let s=r.forwardRef(function(e,t){let{title:l,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),l?r.createElement("title",{id:s},l):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(47116)),_N_E=e.O()}]);