(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{42885:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return a(42985)}])},95533:(e,t,a)=>{"use strict";a.d(t,{A:()=>w});var s=a(65723),r=a(861),l=a(22690),i=a(73574),n=a(22155);let o=n.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});var c=a(80108),d=a(9202),u=a(57845);let m=n.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}),v=n.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});var x=a(49505),h=a(75388),p=a(96122),g=a(20275),j=a(54126),b=a(84865);let w=()=>{let{currentAccount:e}=(0,b.E)(),t=[{icon:(0,s.jsx)(i.A,{className:"size-4"}),title:"Profile",url:"/settings"},{icon:(0,s.jsx)(o,{className:"size-4"}),title:"Account",url:"/settings/account"},{icon:(0,s.jsx)(c.A,{className:"size-4"}),title:"Handles",url:"/settings/handles"},{icon:(0,s.jsx)(d.A,{className:"size-4"}),title:"Preferences",url:"/settings/preferences"},{icon:(0,s.jsx)(u.A,{className:"size-4"}),title:"Interests",url:"/settings/interests"},{icon:(0,s.jsx)(m,{className:"size-4"}),title:"Manager",url:"/settings/manager"},{icon:(0,s.jsx)(v,{className:"size-4"}),title:"Allowance",url:"/settings/allowance"},{icon:(0,s.jsx)(x.A,{className:"size-4"}),title:"Sessions",url:"/settings/sessions"},{icon:(0,s.jsx)(h.A,{className:"size-4"}),title:"Action History",url:"/settings/actions"},{icon:(0,s.jsx)(p.A,{className:"size-4"}),title:"Blocked Profiles",url:"/settings/blocked"},{icon:(0,s.jsx)(g.A,{className:"size-4"}),title:"Export",url:"/settings/export"},{icon:(0,s.jsx)(j.A,{className:"size-4 text-red-500"}),title:(0,s.jsx)("div",{className:"text-red-500",children:"Danger zone"}),url:"/settings/danger"}];return(0,s.jsxs)("div",{className:"mb-4 px-3 sm:px-0",children:[(0,s.jsx)("div",{className:"pb-3",children:(0,s.jsx)(l.A,{hideFollowButton:!0,hideUnfollowButton:!0,account:e,showUserPreview:!1})}),(0,s.jsx)(r.A,{items:t})]})}},62707:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(65723),r=a(45507),l=a(71180),i=a(99777),n=a(3817);let o=()=>(0,s.jsxs)("div",{className:"page-center flex-col",children:[(0,s.jsx)(r.A,{title:"Not logged in • ".concat(i.C3)}),(0,s.jsx)("img",{alt:"Logo",className:"size-20",height:80,src:"/logo.png",width:80}),(0,s.jsxs)("div",{className:"py-10 text-center",children:[(0,s.jsx)(n.H2,{className:"mb-4",children:"Not logged in!"}),(0,s.jsx)("div",{className:"mb-4",children:"Log in to continue"}),(0,s.jsx)(l.A,{isBig:!0})]})]})},861:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(65723),r=a(19429),l=a(3817),i=a(36018),n=a(91983),o=a(22155),c=a(45199),d=a(51673);let u=e=>{let{items:t}=e,{pathname:a}=(0,n.useRouter)(),u=t.filter(e=>(null==e?void 0:e.enabled)!==!1),[m,v]=(0,o.useState)(u.find(e=>e.url===a)||u[0]);return(0,s.jsx)("div",{className:"mb-4 space-y-2",children:(0,s.jsx)(r.W1,{as:"div",className:"relative",children:e=>{let{open:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.IU,{className:(0,i.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":t,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!t}),children:[m.icon,(0,s.jsx)("div",{children:m.title})]}),(0,s.jsx)(c.A,{children:(0,s.jsx)(r.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,s.jsx)(l.Zp,{forceRounded:!0,children:u.map(e=>(0,s.jsxs)(r.Dr,{as:d.S,className:t=>{let{focus:a}=t;return(0,i.A)({"dropdown-active":a||m===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>v(e),children:[e.icon,(0,s.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var m=a(7606),v=a.n(m);let x=e=>{let{children:t,current:a,url:r}=e;return(0,s.jsx)(v(),{className:(0,i.A)({"font-bold text-black dark:text-white":a},{"bg-gray-300 dark:bg-gray-300/20":a},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:r,children:t})},h=e=>{let{items:t}=e,{pathname:a}=(0,n.useRouter)(),r=t.filter(e=>!1!==e.enabled);return(0,s.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:r.map(e=>(0,s.jsxs)(x,{current:a===e.url||!0===e.active,url:e.url,children:[e.icon,(0,s.jsx)("div",{children:e.title})]},e.title))})},p=e=>{let{items:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsx)(h,{items:t})}),(0,s.jsx)("div",{className:"block lg:hidden",children:(0,s.jsx)(u,{items:t})})]})}},42985:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var s=a(65723),r=a(45507),l=a(62707),i=a(56495),n=a(99777),o=a(74716),c=a(3817),d=a(22155),u=a(84865),m=a(95533),v=a(11438),x=a(5360),h=a(12632),p=a(21811),g=a(27282),j=a(23349),b=a(56388),w=a(90098),f=a(77862),y=a(77683),A=a(91331),N=a(29883),k=a(9094),S=a(60907),E=a(17629),C=a(59420),_=a(12005),P=a(14834),z=a(78135),M=a(38700),R=a(46997),L=a(73838),I=a(76277),V=a(66900),T=a(4180);let B=(0,T.Ik)({bio:(0,T.Yj)().max(260,{message:"Bio should not exceed 260 characters"}),location:(0,T.Yj)().max(100,{message:"Location should not exceed 100 characters"}),name:(0,T.Yj)().max(100,{message:"Name should not exceed 100 characters"}).regex(f.G.accountNameValidator,{message:"Account name must not contain restricted symbols"}),website:(0,T.KC)([(0,T.Yj)().regex(f.G.url,{message:"Invalid website"}),(0,T.Yj)().max(0)]),x:(0,T.Yj)().max(100,{message:"X handle must not exceed 100 characters"})}),O=()=>{var e,t,a,r,l,m,f,T,O,U,W,G,H,Z,D,F,Y;let{currentAccount:X}=(0,u.E)(),{isSuspended:$}=(0,L.J)(),[J,K]=(0,d.useState)(!1),[q,Q]=(0,d.useState)((null==X?void 0:null===(t=X.metadata)||void 0===t?void 0:null===(e=t.coverPicture)||void 0===e?void 0:e.__typename)==="ImageSet"?null==X?void 0:null===(r=X.metadata)||void 0===r?void 0:null===(a=r.coverPicture)||void 0===a?void 0:a.raw.uri:""),[ee,et]=(0,d.useState)(""),[ea,es]=(0,d.useState)(!1),[er,el]=(0,d.useState)(null),[ei,en]=(0,d.useState)(""),[eo,ec]=(0,d.useState)(!1),[ed,eu]=(0,d.useState)((null==X?void 0:null===(m=X.metadata)||void 0===m?void 0:null===(l=m.picture)||void 0===l?void 0:l.__typename)==="ImageSet"?null==X?void 0:null===(T=X.metadata)||void 0===T?void 0:null===(f=T.picture)||void 0===f?void 0:f.raw.uri:""),[em,ev]=(0,d.useState)(""),[ex,eh]=(0,d.useState)(!1),[ep,eg]=(0,d.useState)(null),[ej,eb]=(0,d.useState)(""),[ew,ef]=(0,d.useState)(!1),ey=(0,R.A)(),{canBroadcast:eA,canUseLensManager:eN}=(0,y.A)(X),ek=e=>{"RelayError"!==e&&"LensProfileManagerRelayError"!==e&&(K(!1),M.Ay.success("Account updated"),i.s.track(o.yy.ACCOUNT.UPDATE))},eS=e=>{K(!1),(0,p.A)(e)},{signTypedDataAsync:eE}=(0,I.v)({mutation:{onError:eS}}),{error:eC,writeContractAsync:e_}=(0,V.x)({mutation:{onError:eS,onSuccess:()=>ek()}}),eP=async e=>{let{args:t}=e;return await e_({abi:b.sh,address:n.z1,args:t,functionName:"setProfileMetadataURI"})},[ez]=(0,P.Mbt)({onCompleted:e=>{let{broadcastOnchain:t}=e;return ek(t.__typename)}}),[eM]=(0,P.how)({onCompleted:async e=>{let{createOnchainSetProfileMetadataTypedData:t}=e,{id:a,typedData:s}=t,{metadataURI:r,profileId:l}=s.value;if(await ey(),eA){let e=await eE((0,k.A)(s)),{data:t}=await ez({variables:{request:{id:a,signature:e}}});return(null==t?void 0:t.broadcastOnchain.__typename)==="RelayError"?await eP({args:[l,r]}):void 0}return await eP({args:[l,r]})},onError:eS}),[eR]=(0,P.jWy)({onCompleted:e=>{let{setProfileMetadata:t}=e;return ek(t.__typename)},onError:eS}),eL=async e=>{var t;let{data:a}=await eR({variables:{request:e}});if((null==a?void 0:null===(t=a.setProfileMetadata)||void 0===t?void 0:t.__typename)==="LensProfileManagerRelayError")return await eM({variables:{request:e}})},eI=(0,c.Lk)({defaultValues:{bio:(null==X?void 0:null===(O=X.metadata)||void 0===O?void 0:O.bio)||"",location:(0,A.A)("location",null==X?void 0:null===(U=X.metadata)||void 0===U?void 0:U.attributes),name:(null==X?void 0:null===(W=X.metadata)||void 0===W?void 0:W.displayName)||"",website:(0,A.A)("website",null==X?void 0:null===(G=X.metadata)||void 0===G?void 0:G.attributes),x:null===(H=(0,A.A)("x",null==X?void 0:null===(Z=X.metadata)||void 0===Z?void 0:Z.attributes))||void 0===H?void 0:H.replace(/(https:\/\/)?x\.com\//,"")},schema:B}),eV=async e=>{if(!X)return M.Ay.error(w.I.SignWallet);if($)return M.Ay.error(w.I.Suspended);try{var t,a,s;K(!0);let r=(null===(a=X.metadata)||void 0===a?void 0:null===(t=a.attributes)||void 0===t?void 0:t.filter(e=>!["app","location","timestamp","website","x"].includes(e.key)).map(e=>{let{key:t,type:a,value:s}=e;return{key:t,type:z.cP[a],value:s}}))||[],l={...e.name&&{name:e.name},...e.bio&&{bio:e.bio},attributes:[...r,{key:"location",type:z.cP.STRING,value:e.location},{key:"website",type:z.cP.STRING,value:e.website},{key:"x",type:z.cP.STRING,value:e.x},{key:"timestamp",type:z.cP.STRING,value:new Date().toISOString()}],coverPicture:q||void 0,picture:ed||void 0};l.attributes=null===(s=l.attributes)||void 0===s?void 0:s.filter(e=>""!==e.key&&!!(0,C.A)(e.value));let i=(0,z.ME)(l),o=await (0,g.A)(i),c={metadataURI:"".concat(n.kR,"/").concat(o)};if(eN)return await eL(c);return await eM({variables:{request:c}})}catch(e){eS(e)}},eT=async e=>{try{let t=await (0,_.nJ)("avatar"===e?em:ee,"avatar"===e?ep:er);if(!t)return M.Ay.error(w.I.SomethingWentWrong);"avatar"===e?ef(!0):"cover"===e&&ec(!0);let a=await (0,h.A)(t),s=t.toDataURL("image/png");"avatar"===e?(eu(a),eb(s)):"cover"===e&&(Q(a),en(s))}catch(e){eS(e)}finally{es(!1),eh(!1),ec(!1),ef(!1)}},eB=async(e,t)=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&("avatar"===t?(ev(await (0,h.T)(s)),eh(!0)):"cover"===t&&(et(await (0,h.T)(s)),es(!0)))},eO=(null==X?void 0:null===(Y=X.metadata)||void 0===Y?void 0:null===(F=Y.coverPicture)||void 0===F?void 0:null===(D=F.optimized)||void 0===D?void 0:D.uri)||"".concat(n.Un,"/patterns/2.svg"),eU=eO?(0,S.A)((0,E.A)(eO),n.w3):"",eW=(0,N.A)(X),eG=eW?(0,S.A)((0,E.A)(eW),n.of):"";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zp,{className:"p-5",children:(0,s.jsxs)(c.lV,{className:"space-y-4",form:eI,onSubmit:eV,children:[eC?(0,s.jsx)(c.Kw,{className:"mb-3",error:eC,title:"Transaction failed!"}):null,(0,s.jsx)(c.pd,{disabled:!0,label:"Profile Id",type:"text",value:null==X?void 0:X.id}),(0,s.jsx)(c.pd,{label:"Name",placeholder:"Gavin",type:"text",...eI.register("name")}),(0,s.jsx)(c.pd,{label:"Location",placeholder:"Miami",type:"text",...eI.register("location")}),(0,s.jsx)(c.pd,{label:"Website",placeholder:"https://hooli.com",type:"text",...eI.register("website")}),(0,s.jsx)(c.pd,{label:"X",placeholder:"gavin",prefix:"https://x.com",type:"text",...eI.register("x")}),(0,s.jsx)(c.fs,{label:"Bio",placeholder:"Tell us something about you!",...eI.register("bio")}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("div",{className:"label",children:"Avatar"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(c._V,{alt:"Profile picture crop preview",className:"max-w-xs rounded-lg",onError:e=>{let{currentTarget:t}=e;t.src=(0,E.A)(ed)},src:ej||eG}),(0,s.jsx)(v.A,{onChange:e=>eB(e,"avatar")})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("div",{className:"label",children:"Cover"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)(c._V,{alt:"Cover picture crop preview",className:"h-[175px] w-[675px] rounded-lg object-cover",onError:e=>{let{currentTarget:t}=e;t.src=(0,E.A)(q)},src:ei||eU})}),(0,s.jsx)(v.A,{onChange:e=>eB(e,"cover")})]})]}),(0,s.jsx)(c.$n,{className:"ml-auto",disabled:J||!eI.formState.isDirty&&!ee&&!em,type:"submit",children:"Save"})]})}),(0,s.jsx)(c.aF,{onClose:J?void 0:()=>{et(""),es(!1)},show:ea,size:"lg",title:"Crop cover picture",children:(0,s.jsxs)("div",{className:"p-5 text-right",children:[(0,s.jsx)(x.A,{imageSrc:ee,setCroppedAreaPixels:el,targetSize:{height:350,width:1350}}),(0,s.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between gap-y-3",children:[(0,s.jsxs)("div",{className:"ld-text-gray-500 flex items-center space-x-1 text-left text-sm",children:[(0,s.jsx)(j.A,{className:"size-4"}),(0,s.jsxs)("div",{children:["Optimal cover picture size is ",(0,s.jsx)("b",{children:"1350x350"})]})]}),(0,s.jsx)(c.$n,{disabled:eo||!ee,onClick:()=>eT("cover"),type:"submit",children:"Upload"})]})]})}),(0,s.jsx)(c.aF,{onClose:J?void 0:()=>{ev(""),eh(!1)},show:ex,size:"sm",title:"Crop profile picture",children:(0,s.jsxs)("div",{className:"p-5 text-right",children:[(0,s.jsx)(x.A,{imageSrc:em,setCroppedAreaPixels:eg,targetSize:{height:300,width:300}}),(0,s.jsx)(c.$n,{disabled:ew||!em,onClick:()=>eT("avatar"),type:"submit",children:"Upload"})]})})]})},U=()=>{let{currentAccount:e}=(0,u.E)();return((0,d.useEffect)(()=>{i.s.track(o.zQ,{page:"settings",subpage:"profile"})},[]),e)?(0,s.jsxs)(c.JT,{children:[(0,s.jsx)(r.A,{title:"Profile settings • ".concat(n.C3)}),(0,s.jsx)(c.an,{children:(0,s.jsx)(m.A,{})}),(0,s.jsx)(c.$l,{className:"space-y-5",children:(0,s.jsx)(O,{})})]}):(0,s.jsx)(l.A,{})}},91331:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=null==t?void 0:t.find(t=>t.key===e);return(null==a?void 0:a.value)||""}},9202:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(22155);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"}))})},80108:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(22155);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[70,8916,636,6593,8792],()=>t(42885)),_N_E=e.O()}]);