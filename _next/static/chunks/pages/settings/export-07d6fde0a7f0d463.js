(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3236],{63748:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/export",function(){return l(50312)}])},95533:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var s=l(65723),i=l(861),n=l(22690),r=l(73574),o=l(22155);let a=o.forwardRef(function(e,t){let{title:l,titleId:s,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),l?o.createElement("title",{id:s},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});var c=l(80108),d=l(9202),u=l(57845);let x=o.forwardRef(function(e,t){let{title:l,titleId:s,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),l?o.createElement("title",{id:s},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}),m=o.forwardRef(function(e,t){let{title:l,titleId:s,...i}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),l?o.createElement("title",{id:s},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});var p=l(49505),h=l(75388),g=l(96122),f=l(20275),j=l(54126),w=l(84865);let b=()=>{let{currentAccount:e}=(0,w.E)(),t=[{icon:(0,s.jsx)(r.A,{className:"size-4"}),title:"Profile",url:"/settings"},{icon:(0,s.jsx)(a,{className:"size-4"}),title:"Account",url:"/settings/account"},{icon:(0,s.jsx)(c.A,{className:"size-4"}),title:"Handles",url:"/settings/handles"},{icon:(0,s.jsx)(d.A,{className:"size-4"}),title:"Preferences",url:"/settings/preferences"},{icon:(0,s.jsx)(u.A,{className:"size-4"}),title:"Interests",url:"/settings/interests"},{icon:(0,s.jsx)(x,{className:"size-4"}),title:"Manager",url:"/settings/manager"},{icon:(0,s.jsx)(m,{className:"size-4"}),title:"Allowance",url:"/settings/allowance"},{icon:(0,s.jsx)(p.A,{className:"size-4"}),title:"Sessions",url:"/settings/sessions"},{icon:(0,s.jsx)(h.A,{className:"size-4"}),title:"Action History",url:"/settings/actions"},{icon:(0,s.jsx)(g.A,{className:"size-4"}),title:"Blocked Profiles",url:"/settings/blocked"},{icon:(0,s.jsx)(f.A,{className:"size-4"}),title:"Export",url:"/settings/export"},{icon:(0,s.jsx)(j.A,{className:"size-4 text-red-500"}),title:(0,s.jsx)("div",{className:"text-red-500",children:"Danger zone"}),url:"/settings/danger"}];return(0,s.jsxs)("div",{className:"mb-4 px-3 sm:px-0",children:[(0,s.jsx)("div",{className:"pb-3",children:(0,s.jsx)(n.A,{hideFollowButton:!0,hideUnfollowButton:!0,account:e,showUserPreview:!1})}),(0,s.jsx)(i.A,{items:t})]})}},62707:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var s=l(65723),i=l(45507),n=l(71180),r=l(99777),o=l(3817);let a=()=>(0,s.jsxs)("div",{className:"page-center flex-col",children:[(0,s.jsx)(i.A,{title:"Not logged in • ".concat(r.C3)}),(0,s.jsx)("img",{alt:"Logo",className:"size-20",height:80,src:"/logo.png",width:80}),(0,s.jsxs)("div",{className:"py-10 text-center",children:[(0,s.jsx)(o.H2,{className:"mb-4",children:"Not logged in!"}),(0,s.jsx)("div",{className:"mb-4",children:"Log in to continue"}),(0,s.jsx)(n.A,{isBig:!0})]})]})},861:(e,t,l)=>{"use strict";l.d(t,{A:()=>g});var s=l(65723),i=l(19429),n=l(3817),r=l(36018),o=l(91983),a=l(22155),c=l(45199),d=l(51673);let u=e=>{let{items:t}=e,{pathname:l}=(0,o.useRouter)(),u=t.filter(e=>(null==e?void 0:e.enabled)!==!1),[x,m]=(0,a.useState)(u.find(e=>e.url===l)||u[0]);return(0,s.jsx)("div",{className:"mb-4 space-y-2",children:(0,s.jsx)(i.W1,{as:"div",className:"relative",children:e=>{let{open:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.IU,{className:(0,r.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":t,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!t}),children:[x.icon,(0,s.jsx)("div",{children:x.title})]}),(0,s.jsx)(c.A,{children:(0,s.jsx)(i.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,s.jsx)(n.Zp,{forceRounded:!0,children:u.map(e=>(0,s.jsxs)(i.Dr,{as:d.S,className:t=>{let{focus:l}=t;return(0,r.A)({"dropdown-active":l||x===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>m(e),children:[e.icon,(0,s.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var x=l(7606),m=l.n(x);let p=e=>{let{children:t,current:l,url:i}=e;return(0,s.jsx)(m(),{className:(0,r.A)({"font-bold text-black dark:text-white":l},{"bg-gray-300 dark:bg-gray-300/20":l},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:i,children:t})},h=e=>{let{items:t}=e,{pathname:l}=(0,o.useRouter)(),i=t.filter(e=>!1!==e.enabled);return(0,s.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:i.map(e=>(0,s.jsxs)(p,{current:l===e.url||!0===e.active,url:e.url,children:[e.icon,(0,s.jsx)("div",{children:e.title})]},e.title))})},g=e=>{let{items:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsx)(h,{items:t})}),(0,s.jsx)("div",{className:"block lg:hidden",children:(0,s.jsx)(u,{items:t})})]})}},50312:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>N});var s=l(65723),i=l(45507),n=l(62707),r=l(56495),o=l(99777),a=l(74716),c=l(3817),d=l(22155),u=l(84865),x=l(95533);let m=(e,t,l)=>{let s=document.createElement("a"),i=new Blob([JSON.stringify(e)],{type:"application/json"});s.href=URL.createObjectURL(i),s.download="".concat(t,".json"),document.body.appendChild(s),s.click(),null==l||l()};var p=l(14834);let h=()=>{let{currentAccount:e}=(0,u.E)(),[t,l]=(0,d.useState)(null),[i,n]=(0,d.useState)(!1),[o,x]=(0,d.useState)(!1),h={forProfileId:null==e?void 0:e.id},[g]=(0,p.fv0)({fetchPolicy:"network-only",variables:{request:h}});return(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{body:"Export all your profile data to a JSON file.",title:"Export profile"}),(0,s.jsx)("div",{className:"m-5",children:o?(0,s.jsx)(c.$n,{onClick:()=>{m(t,"profile",()=>{l(null),x(!1)})},outline:!0,children:"Download profile"}):(0,s.jsx)(c.$n,{disabled:i,onClick:()=>{r.s.track(a.yy.EXPORT.PROFILE),n(!0),g({onCompleted:e=>{let{profile:t}=e;l(t),x(!0),n(!1)}})},outline:!0,children:i?"Exporting...":"Export now"})})]})},g=()=>{let{currentAccount:e}=(0,u.E)(),[t,l]=(0,d.useState)([]),[i,n]=(0,d.useState)(!1),[o,x]=(0,d.useState)(!1),h={limit:p.gTn.Fifty,of:null==e?void 0:e.id},[g]=(0,p.JRX)({fetchPolicy:"network-only"}),f=async()=>{r.s.track(a.yy.EXPORT.FOLLOWERS),n(!0);let e=async t=>{let{data:s}=await g({onCompleted:e=>{l(t=>{let l=e.followers.items.filter(e=>!t.some(t=>t.id===e.id));return[...t,...l]})},variables:{request:{...h,cursor:t}}});(null==s?void 0:s.followers.items.length)!==0&&(null==s?void 0:s.followers.pageInfo.next)?await e(null==s?void 0:s.followers.pageInfo.next):(x(!0),n(!1))};await e()};return(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{body:"Export all your followers to a JSON file.",title:"Export followers"}),(0,s.jsxs)("div",{className:"m-5",children:[t.length>0?(0,s.jsxs)("div",{className:"pb-2",children:["Exported ",(0,s.jsx)("b",{children:t.length})," followers"]}):null,o?(0,s.jsx)(c.$n,{onClick:()=>{m(t,"followers",()=>{l([]),x(!1)})},outline:!0,children:"Download followers"}):(0,s.jsx)(c.$n,{disabled:i,onClick:f,outline:!0,children:i?"Exporting...":"Export now"})]})]})},f=()=>{let{currentAccount:e}=(0,u.E)(),[t,l]=(0,d.useState)([]),[i,n]=(0,d.useState)(!1),[o,x]=(0,d.useState)(!1),h={for:null==e?void 0:e.id,limit:p.gTn.Fifty},[g]=(0,p.ZnY)({fetchPolicy:"network-only"}),f=async()=>{r.s.track(a.yy.EXPORT.FOLLOWING),n(!0);let e=async t=>{let{data:s}=await g({onCompleted:e=>{l(t=>{let l=e.following.items.filter(e=>!t.some(t=>t.id===e.id));return[...t,...l]})},variables:{request:{...h,cursor:t}}});(null==s?void 0:s.following.items.length)!==0&&(null==s?void 0:s.following.pageInfo.next)?await e(null==s?void 0:s.following.pageInfo.next):(x(!0),n(!1))};await e()};return(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{body:"Export all your following to a JSON file.",title:"Export following"}),(0,s.jsxs)("div",{className:"m-5",children:[t.length>0?(0,s.jsxs)("div",{className:"pb-2",children:["Exported ",(0,s.jsx)("b",{children:t.length})," following"]}):null,o?(0,s.jsx)(c.$n,{onClick:()=>{m(t,"following",()=>{l([]),x(!1)})},outline:!0,children:"Download following"}):(0,s.jsx)(c.$n,{disabled:i,onClick:f,outline:!0,children:i?"Exporting...":"Export now"})]})]})};var j=l(90098),w=l(38700),b=l(73838);let v=()=>{let[e,t]=(0,d.useState)([]),[l,i]=(0,d.useState)(!1),[n,o]=(0,d.useState)(!1),{isSuspended:u}=(0,b.J)(),[x]=(0,p.cix)({fetchPolicy:"network-only"}),h=async()=>{if(u)return w.Ay.error(j.I.Suspended);r.s.track(a.yy.EXPORT.NOTIFICATIONS),i(!0);let e=async l=>{let{data:s}=await x({onCompleted:e=>{t(t=>{let l=e.notifications.items.filter(e=>!t.some(t=>t.id===e.id));return[...t,...l]})},variables:{request:{cursor:l}}});(null==s?void 0:s.notifications.items.length)!==0&&(null==s?void 0:s.notifications.pageInfo.next)?await e(null==s?void 0:s.notifications.pageInfo.next):(o(!0),i(!1))};await e()};return(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{body:"Export all your notifications to a JSON file.",title:"Export notifications"}),(0,s.jsxs)("div",{className:"m-5",children:[e.length>0?(0,s.jsxs)("div",{className:"pb-2",children:["Exported ",(0,s.jsx)("b",{children:e.length})," notifications"]}):null,n?(0,s.jsx)(c.$n,{onClick:()=>{m(e,"notifications",()=>{t([]),o(!1)})},outline:!0,children:"Download notifications"}):(0,s.jsx)(c.$n,{disabled:l,onClick:h,outline:!0,children:l?"Exporting...":"Export now"})]})]})},y=()=>{let{currentAccount:e}=(0,u.E)(),[t,l]=(0,d.useState)([]),[i,n]=(0,d.useState)(!1),[o,x]=(0,d.useState)(!1),h={limit:p.gTn.Fifty,where:{from:null==e?void 0:e.id}},[g]=(0,p.Rvu)({fetchPolicy:"network-only"}),f=async()=>{r.s.track(a.yy.EXPORT.POSTS),n(!0);let e=async t=>{let{data:s}=await g({onCompleted:e=>{l(t=>{let l=e.publications.items.filter(e=>!t.some(t=>t.id===e.id));return[...t,...l]})},variables:{request:{...h,cursor:t}}});(null==s?void 0:s.publications.items.length)!==0&&(null==s?void 0:s.publications.pageInfo.next)?await e(null==s?void 0:s.publications.pageInfo.next):(x(!0),n(!1))};await e()};return(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{body:"Export all your posts, comments and mirrors to a JSON file.",title:"Export posts"}),(0,s.jsxs)("div",{className:"m-5",children:[t.length>0?(0,s.jsxs)("div",{className:"pb-2",children:["Exported ",(0,s.jsx)("b",{children:t.length})," posts"]}):null,o?(0,s.jsx)(c.$n,{onClick:()=>{m(t,"posts",()=>{l([]),x(!1)})},outline:!0,children:"Download posts"}):(0,s.jsx)(c.$n,{disabled:i,onClick:f,outline:!0,children:i?"Exporting...":"Export now"})]})]})};var k=l(97118);let E=()=>{let{accessToken:e,identityToken:t,refreshToken:l}=(0,k.i0)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{title:"Your temporary access token"}),(0,s.jsx)("button",{className:"m-5 cursor-pointer break-all rounded-md bg-gray-300 p-2 px-3 text-left dark:bg-gray-600",onClick:()=>{w.Ay.success("Copied to clipboard"),navigator.clipboard.writeText(e)},type:"button",children:(0,s.jsx)(c.H6,{children:e})})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{title:"Your temporary refresh token"}),(0,s.jsx)("button",{className:"m-5 cursor-pointer break-all rounded-md bg-gray-300 p-2 px-3 text-left dark:bg-gray-600",onClick:()=>{w.Ay.success("Copied to clipboard"),navigator.clipboard.writeText(l)},type:"button",children:(0,s.jsx)(c.H6,{children:l})})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{title:"Your temporary identity token"}),(0,s.jsx)("button",{className:"m-5 cursor-pointer break-all rounded-md bg-gray-300 p-2 px-3 text-left dark:bg-gray-600",type:"button",onClick:()=>{w.Ay.success("Copied to clipboard"),navigator.clipboard.writeText(t)},children:(0,s.jsx)(c.H6,{children:t})})]})]})},N=()=>{let{currentAccount:e}=(0,u.E)();return((0,d.useEffect)(()=>{r.s.track(a.zQ,{page:"settings",subpage:"export"})},[]),e)?(0,s.jsxs)(c.JT,{children:[(0,s.jsx)(i.A,{title:"Account settings • ".concat(o.C3)}),(0,s.jsx)(c.an,{children:(0,s.jsx)(x.A,{})}),(0,s.jsxs)(c.$l,{className:"space-y-5",children:[(0,s.jsx)(h,{}),(0,s.jsx)(y,{}),(0,s.jsx)(v,{}),(0,s.jsx)(f,{}),(0,s.jsx)(g,{}),(0,s.jsx)(E,{})]})]}):(0,s.jsx)(n.A,{})}},9202:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var s=l(22155);let i=s.forwardRef(function(e,t){let{title:l,titleId:i,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),l?s.createElement("title",{id:i},l):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"}))})},80108:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var s=l(22155);let i=s.forwardRef(function(e,t){let{title:l,titleId:i,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),l?s.createElement("title",{id:i},l):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(63748)),_N_E=e.O()}]);