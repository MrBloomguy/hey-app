(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4939],{64630:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/handles",function(){return l(51253)}])},95533:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(65723),r=l(861),s=l(22690),n=l(73574),i=l(22155);let o=i.forwardRef(function(e,t){let{title:l,titleId:a,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),l?i.createElement("title",{id:a},l):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});var d=l(80108),c=l(9202),u=l(57845);let m=i.forwardRef(function(e,t){let{title:l,titleId:a,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),l?i.createElement("title",{id:a},l):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}),x=i.forwardRef(function(e,t){let{title:l,titleId:a,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),l?i.createElement("title",{id:a},l):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});var h=l(49505),v=l(75388),f=l(96122),g=l(20275),j=l(54126),p=l(84865);let y=()=>{let{currentAccount:e}=(0,p.E)(),t=[{icon:(0,a.jsx)(n.A,{className:"size-4"}),title:"Profile",url:"/settings"},{icon:(0,a.jsx)(o,{className:"size-4"}),title:"Account",url:"/settings/account"},{icon:(0,a.jsx)(d.A,{className:"size-4"}),title:"Handles",url:"/settings/handles"},{icon:(0,a.jsx)(c.A,{className:"size-4"}),title:"Preferences",url:"/settings/preferences"},{icon:(0,a.jsx)(u.A,{className:"size-4"}),title:"Interests",url:"/settings/interests"},{icon:(0,a.jsx)(m,{className:"size-4"}),title:"Manager",url:"/settings/manager"},{icon:(0,a.jsx)(x,{className:"size-4"}),title:"Allowance",url:"/settings/allowance"},{icon:(0,a.jsx)(h.A,{className:"size-4"}),title:"Sessions",url:"/settings/sessions"},{icon:(0,a.jsx)(v.A,{className:"size-4"}),title:"Action History",url:"/settings/actions"},{icon:(0,a.jsx)(f.A,{className:"size-4"}),title:"Blocked Profiles",url:"/settings/blocked"},{icon:(0,a.jsx)(g.A,{className:"size-4"}),title:"Export",url:"/settings/export"},{icon:(0,a.jsx)(j.A,{className:"size-4 text-red-500"}),title:(0,a.jsx)("div",{className:"text-red-500",children:"Danger zone"}),url:"/settings/danger"}];return(0,a.jsxs)("div",{className:"mb-4 px-3 sm:px-0",children:[(0,a.jsx)("div",{className:"pb-3",children:(0,a.jsx)(s.A,{hideFollowButton:!0,hideUnfollowButton:!0,account:e,showUserPreview:!1})}),(0,a.jsx)(r.A,{items:t})]})}},62707:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(65723),r=l(45507),s=l(71180),n=l(99777),i=l(3817);let o=()=>(0,a.jsxs)("div",{className:"page-center flex-col",children:[(0,a.jsx)(r.A,{title:"Not logged in • ".concat(n.C3)}),(0,a.jsx)("img",{alt:"Logo",className:"size-20",height:80,src:"/logo.png",width:80}),(0,a.jsxs)("div",{className:"py-10 text-center",children:[(0,a.jsx)(i.H2,{className:"mb-4",children:"Not logged in!"}),(0,a.jsx)("div",{className:"mb-4",children:"Log in to continue"}),(0,a.jsx)(s.A,{isBig:!0})]})]})},49024:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var a=l(65723),r=l(36018);let s=e=>{let{hideSlug:t=!1,smallAvatar:l=!1}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:(0,r.A)(l?"size-4":"size-6","shimmer rounded-full")}),(0,a.jsx)("div",{className:"shimmer h-3 w-28 rounded-lg"}),!t&&(0,a.jsx)("div",{className:"shimmer h-3 w-20 rounded-lg"})]})}},861:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(65723),r=l(19429),s=l(3817),n=l(36018),i=l(91983),o=l(22155),d=l(45199),c=l(51673);let u=e=>{let{items:t}=e,{pathname:l}=(0,i.useRouter)(),u=t.filter(e=>(null==e?void 0:e.enabled)!==!1),[m,x]=(0,o.useState)(u.find(e=>e.url===l)||u[0]);return(0,a.jsx)("div",{className:"mb-4 space-y-2",children:(0,a.jsx)(r.W1,{as:"div",className:"relative",children:e=>{let{open:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.IU,{className:(0,n.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":t,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!t}),children:[m.icon,(0,a.jsx)("div",{children:m.title})]}),(0,a.jsx)(d.A,{children:(0,a.jsx)(r.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,a.jsx)(s.Zp,{forceRounded:!0,children:u.map(e=>(0,a.jsxs)(r.Dr,{as:c.S,className:t=>{let{focus:l}=t;return(0,n.A)({"dropdown-active":l||m===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>x(e),children:[e.icon,(0,a.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var m=l(7606),x=l.n(m);let h=e=>{let{children:t,current:l,url:r}=e;return(0,a.jsx)(x(),{className:(0,n.A)({"font-bold text-black dark:text-white":l},{"bg-gray-300 dark:bg-gray-300/20":l},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:r,children:t})},v=e=>{let{items:t}=e,{pathname:l}=(0,i.useRouter)(),r=t.filter(e=>!1!==e.enabled);return(0,a.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:r.map(e=>(0,a.jsxs)(h,{current:l===e.url||!0===e.active,url:e.url,children:[e.icon,(0,a.jsx)("div",{children:e.title})]},e.title))})},f=e=>{let{items:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(v,{items:t})}),(0,a.jsx)("div",{className:"block lg:hidden",children:(0,a.jsx)(u,{items:t})})]})}},51253:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>M});var a=l(65723),r=l(45507),s=l(62707),n=l(48378),i=l(56495),o=l(99777),d=l(74716),c=l(3817),u=l(22155),m=l(84865),x=l(95533),h=l(46513),v=l(14834),f=l(49024),g=l(85933);let j=e=>{let{hideSlug:t=!1,id:l,linkToAccount:r=!1}=e,{data:s,loading:n}=(0,v.v4J)({variables:{request:{forProfileId:l}}});return n?(0,a.jsx)(f.A,{smallAvatar:!0}):(null==s?void 0:s.profile)?(0,a.jsx)(g.A,{hideSlug:t,linkToAccount:r,account:s.profile,smallAvatar:!0}):null};var p=l(96898),y=l(21811),w=l(80108),b=l(56388),k=l(90098),N=l(77683),A=l(9094),_=l(38700),E=l(46997),H=l(73838),L=l(12607),R=l(76277),z=l(66900);let C=()=>{let{currentAccount:e}=(0,m.E)(),{isSuspended:t}=(0,H.J)(),{incrementLensHubOnchainSigNonce:l,lensHubOnchainSigNonce:r}=(0,L._)(),[s,x]=(0,u.useState)(null),f=(0,E.A)(),{canBroadcast:g,canUseLensManager:C}=(0,N.A)(e),P=e=>{"RelayError"!==e&&"LensProfileManagerRelayError"!==e&&(x(null),_.Ay.success("Handle linked"),i.s.track(d.yy.HANDLE.LINK))},M=e=>{x(null),(0,y.A)(e)},{data:S,loading:I}=(0,v.C4Z)({variables:{request:{for:null==e?void 0:e.ownedBy.address}}}),{signTypedDataAsync:O}=(0,R.v)({mutation:{onError:M}}),{data:T,writeContractAsync:V}=(0,z.x)({mutation:{onError:M,onSuccess:()=>P()}}),B=async e=>{let{args:t}=e;return await V({abi:b.$6,address:o.P7,args:t,functionName:"link"})},[Z,{data:U}]=(0,v.Mbt)({onCompleted:e=>{let{broadcastOnchain:t}=e;return P(t.__typename)}}),[F]=(0,v.l3P)({onCompleted:async e=>{let{createLinkHandleToProfileTypedData:t}=e,{id:a,typedData:r}=t,s=await O((0,A.A)(r));if(await f(),l(),g){let{data:e}=await Z({variables:{request:{id:a,signature:s}}});return(null==e?void 0:e.broadcastOnchain.__typename)==="RelayError"?await B({args:[r.value]}):void 0}return await B({args:[r.value]})},onError:M}),[W,{data:q}]=(0,v.Vzj)({onCompleted:e=>{let{linkHandleToProfile:t}=e;return P(t.__typename)},onError:M}),$=async e=>{let{data:t}=await W({variables:{request:e}});if((null==t?void 0:t.linkHandleToProfile.__typename)==="LensProfileManagerRelayError")return await F({variables:{request:e}})},D=async l=>{if(e){if(t)return _.Ay.error(k.I.Suspended);if(confirm("Are you sure you want to link this handle?"))try{x(l);let e={handle:l};if(C)return await $(e);return await F({variables:{options:{overrideSigNonce:r},request:e}})}catch(e){M(e)}}};if(I)return(0,a.jsx)(p.A,{className:"py-10"});let J=null==S?void 0:S.ownedHandles.items.filter(t=>{var l;return(null===(l=t.linkedTo)||void 0===l?void 0:l.nftTokenId)!==(null==e?void 0:e.id)});if(!(null==J?void 0:J.length))return(0,a.jsx)(c.pp,{hideCard:!0,icon:(0,a.jsx)(w.A,{className:"size-8"}),message:"No handles found to link!"});let K=(null==q?void 0:q.linkHandleToProfile.__typename)==="RelaySuccess"&&q.linkHandleToProfile.txId,X=(null==U?void 0:U.broadcastOnchain.__typename)==="RelaySuccess"&&U.broadcastOnchain.txId;return(0,a.jsx)("div",{className:"m-5 space-y-6",children:null==J?void 0:J.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"font-bold",slug:e.fullHandle}),e.linkedTo?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsx)("div",{children:"Linked to"}),(0,a.jsx)(j,{id:null===(t=e.linkedTo)||void 0===t?void 0:t.nftTokenId})]}):null]}),K||X||T?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(h.A,{shouldReload:!0,txHash:T,txId:K||X})}):(0,a.jsx)(c.$n,{disabled:s===e.fullHandle,onClick:()=>D(e.fullHandle),outline:!0,children:e.linkedTo?"Unlink and Link":"Link"})]},e.fullHandle)})})},P=()=>{let{currentAccount:e}=(0,m.E)(),{isSuspended:t}=(0,H.J)(),{incrementLensHubOnchainSigNonce:l,lensHubOnchainSigNonce:r}=(0,L._)(),[s,n]=(0,u.useState)(!1),x=(0,E.A)(),{canBroadcast:f,canUseLensManager:g}=(0,N.A)(e),j=e=>{"RelayError"!==e&&"LensProfileManagerRelayError"!==e&&(n(!1),_.Ay.success("Handle unlinked"),i.s.track(d.yy.HANDLE.UNLINK))},p=e=>{n(!1),(0,y.A)(e)},{signTypedDataAsync:w}=(0,R.v)({mutation:{onError:p}}),{data:C,writeContractAsync:P}=(0,z.x)({mutation:{onError:p,onSuccess:()=>j()}}),M=async e=>{let{args:t}=e;return await P({abi:b.$6,address:o.P7,args:t,functionName:"unlink"})},[S,{data:I}]=(0,v.Mbt)({onCompleted:e=>{let{broadcastOnchain:t}=e;return j(t.__typename)}}),[O]=(0,v.l0f)({onCompleted:async e=>{let{createUnlinkHandleFromProfileTypedData:t}=e,{id:a,typedData:r}=t;if(await x(),f){let e=await w((0,A.A)(r)),{data:t}=await S({variables:{request:{id:a,signature:e}}});return(null==t?void 0:t.broadcastOnchain.__typename)==="RelayError"?await M({args:[r.value]}):void l()}return await M({args:[r.value]})},onError:p}),[T,{data:V}]=(0,v.xS2)({onCompleted:e=>{let{unlinkHandleFromProfile:t}=e;return j(t.__typename)},onError:p}),B=async e=>{let{data:t}=await T({variables:{request:e}});if((null==t?void 0:t.unlinkHandleFromProfile.__typename)==="LensProfileManagerRelayError")return await O({variables:{request:e}})},Z=async()=>{if(e){if(t)return _.Ay.error(k.I.Suspended);try{var l;n(!0);let t={handle:null===(l=e.handle)||void 0===l?void 0:l.fullHandle};if(g)return await B(t);return await O({variables:{options:{overrideSigNonce:r},request:t}})}catch(e){p(e)}}},U=(null==V?void 0:V.unlinkHandleFromProfile.__typename)==="RelaySuccess"&&V.unlinkHandleFromProfile.txId,F=(null==I?void 0:I.broadcastOnchain.__typename)==="RelaySuccess"&&I.broadcastOnchain.txId;return(0,a.jsx)("div",{className:"m-5",children:U||F||C?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(h.A,{shouldReload:!0,txHash:C,txId:U||F})}):(0,a.jsx)(c.$n,{disabled:s,onClick:Z,outline:!0,children:"Un-link handle"})})},M=()=>{var e;let{currentAccount:t}=(0,m.E)();return((0,u.useEffect)(()=>{i.s.track(d.zQ,{page:"settings",subpage:"handles"})},[]),t)?(0,a.jsxs)(c.JT,{children:[(0,a.jsx)(r.A,{title:"Handles settings • ".concat(o.C3)}),(0,a.jsx)(c.an,{children:(0,a.jsx)(x.A,{})}),(0,a.jsxs)(c.$l,{className:"space-y-5",children:[t.handle?(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{body:"Unlinking your handle removes it from your profile, ensuring it is no longer publicly displayed or associated with your profile.",title:(0,a.jsxs)("span",{children:["Unlink ",(0,a.jsx)(n.A,{slug:null===(e=t.handle)||void 0===e?void 0:e.fullHandle})," from your profile"]})}),(0,a.jsx)(P,{})]}):null,(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{body:"Linking your handle to your profile showcases it publicly, allowing others to easily identify and connect with you based on your unique online identity.",title:"Link a handle"}),(0,a.jsx)(C,{})]})]})]}):(0,a.jsx)(s.A,{})}},9202:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(22155);let r=a.forwardRef(function(e,t){let{title:l,titleId:r,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),l?a.createElement("title",{id:r},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"}))})},80108:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(22155);let r=a.forwardRef(function(e,t){let{title:l,titleId:r,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),l?a.createElement("title",{id:r},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(64630)),_N_E=e.O()}]);