(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6623],{57218:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/manager",function(){return a(77347)}])},51706:(e,t,a)=>{"use strict";a.d(t,{A:()=>b});var s=a(65723),r=a(46513),n=a(21811),l=a(56495),i=a(56388),o=a(99777),c=a(90098),d=a(74716),u=a(77683),m=a(9094),x=a(14834),h=a(3817),g=a(36018),v=a(22155),j=a(38700),f=a(46997),A=a(73838),p=a(12607),w=a(84865),y=a(76277),N=a(66900);let b=e=>{let{buttonSize:t="md"}=e,{currentAccount:a}=(0,w.E)(),{isSuspended:b}=(0,A.J)(),{decrementLensHubOnchainSigNonce:E,incrementLensHubOnchainSigNonce:k,lensHubOnchainSigNonce:M}=(0,p._)(),[S,C]=(0,v.useState)(!1),R=(0,f.A)(),{canBroadcast:_,canUseSignless:G}=(0,u.A)(a),z=e=>{"RelayError"!==e&&(C(!1),j.Ay.success("Profile updated"),l.s.track(d.yy.MANAGER.TOGGLE))},L=e=>{C(!1),(0,n.A)(e)},{signTypedDataAsync:D}=(0,y.v)({mutation:{onError:L}}),{data:O,writeContractAsync:P}=(0,N.x)({mutation:{onError:e=>{L(e),E()},onSuccess:()=>{z(),k()}}}),B=async e=>{let{args:t}=e;return await P({abi:i.sh,address:o.z1,args:t,functionName:"changeDelegatedExecutorsConfig"})},[q,{data:F}]=(0,x.Mbt)({onCompleted:e=>{let{broadcastOnchain:t}=e;return z(t.__typename)}}),[H]=(0,x._QS)({onCompleted:async e=>{let{createChangeProfileManagersTypedData:t}=e,{id:a,typedData:s}=t,{approvals:r,configNumber:n,delegatedExecutors:l,delegatorProfileId:i,switchToGivenConfig:o}=s.value,c=[i,l,r,n,o];if(await R(),_){let e=await D((0,m.A)(s)),{data:t}=await q({variables:{request:{id:a,signature:e}}});return(null==t?void 0:t.broadcastOnchain.__typename)==="RelayError"?await B({args:c}):void 0}return await B({args:c})},onError:L}),I=async()=>{if(b)return j.Ay.error(c.I.Suspended);try{return C(!0),await H({variables:{options:{overrideSigNonce:M},request:{approveSignless:!G}}})}catch(e){L(e)}},V=(null==F?void 0:F.broadcastOnchain.__typename)==="RelaySuccess"&&F.broadcastOnchain.txId;return O||V?(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(r.A,{shouldReload:!0,txHash:O,txId:V})}):(0,s.jsx)(h.$n,{className:(0,g.A)({"text-sm":"sm"===t},"mr-auto"),disabled:S,onClick:I,variant:G?"danger":"primary",children:G?"Disable":"Enable"})}},95533:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(65723),r=a(861),n=a(22690),l=a(73574),i=a(22155);let o=i.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?i.createElement("title",{id:s},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});var c=a(80108),d=a(9202),u=a(57845);let m=i.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?i.createElement("title",{id:s},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}),x=i.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?i.createElement("title",{id:s},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});var h=a(49505),g=a(75388),v=a(96122),j=a(20275),f=a(54126),A=a(84865);let p=()=>{let{currentAccount:e}=(0,A.E)(),t=[{icon:(0,s.jsx)(l.A,{className:"size-4"}),title:"Profile",url:"/settings"},{icon:(0,s.jsx)(o,{className:"size-4"}),title:"Account",url:"/settings/account"},{icon:(0,s.jsx)(c.A,{className:"size-4"}),title:"Handles",url:"/settings/handles"},{icon:(0,s.jsx)(d.A,{className:"size-4"}),title:"Preferences",url:"/settings/preferences"},{icon:(0,s.jsx)(u.A,{className:"size-4"}),title:"Interests",url:"/settings/interests"},{icon:(0,s.jsx)(m,{className:"size-4"}),title:"Manager",url:"/settings/manager"},{icon:(0,s.jsx)(x,{className:"size-4"}),title:"Allowance",url:"/settings/allowance"},{icon:(0,s.jsx)(h.A,{className:"size-4"}),title:"Sessions",url:"/settings/sessions"},{icon:(0,s.jsx)(g.A,{className:"size-4"}),title:"Action History",url:"/settings/actions"},{icon:(0,s.jsx)(v.A,{className:"size-4"}),title:"Blocked Profiles",url:"/settings/blocked"},{icon:(0,s.jsx)(j.A,{className:"size-4"}),title:"Export",url:"/settings/export"},{icon:(0,s.jsx)(f.A,{className:"size-4 text-red-500"}),title:(0,s.jsx)("div",{className:"text-red-500",children:"Danger zone"}),url:"/settings/danger"}];return(0,s.jsxs)("div",{className:"mb-4 px-3 sm:px-0",children:[(0,s.jsx)("div",{className:"pb-3",children:(0,s.jsx)(n.A,{hideFollowButton:!0,hideUnfollowButton:!0,account:e,showUserPreview:!1})}),(0,s.jsx)(r.A,{items:t})]})}},62707:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(65723),r=a(45507),n=a(71180),l=a(99777),i=a(3817);let o=()=>(0,s.jsxs)("div",{className:"page-center flex-col",children:[(0,s.jsx)(r.A,{title:"Not logged in • ".concat(l.C3)}),(0,s.jsx)("img",{alt:"Logo",className:"size-20",height:80,src:"/logo.png",width:80}),(0,s.jsxs)("div",{className:"py-10 text-center",children:[(0,s.jsx)(i.H2,{className:"mb-4",children:"Not logged in!"}),(0,s.jsx)("div",{className:"mb-4",children:"Log in to continue"}),(0,s.jsx)(n.A,{isBig:!0})]})]})},27623:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(65723),r=a(14834),n=a(3817),l=a(96898),i=a(85933);let o=e=>{let{error:t=!1,hideDropdown:a=!1,onChange:o,onAccountSelected:c,placeholder:d="Search…",skipGardeners:u=!1,value:m}=e,[x,{data:h,loading:g}]=(0,r.AdH)(),v=null==h?void 0:h.searchProfiles.items;return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(n.pd,{error:t,onChange:e=>{o(e);let t=e.target.value;x({variables:{request:{limit:r.gTn.Ten,query:t,...!u&&{where:{customFilters:[r.j7g.Gardeners]}}}}})},placeholder:d,type:"text",value:m}),!a&&m.length>0&&(0,s.jsx)("div",{className:"absolute mt-2 flex w-[94%] max-w-md flex-col",children:(0,s.jsx)(n.Zp,{className:"z-[2] max-h-[80vh] overflow-y-auto py-2",children:g?(0,s.jsx)(l.A,{className:"my-3",message:"Searching users",small:!0}):v.length>0?v.slice(0,7).map(e=>(0,s.jsx)("div",{className:"cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>c(e),children:(0,s.jsx)(i.A,{account:e})},e.id)):(0,s.jsx)("div",{className:"px-4 py-2",children:"No matching users"})})})]})}},48457:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(65723),r=a(3817),n=a(86577);let l=()=>(0,s.jsxs)(r.Zp,{className:"linkify space-y-2 p-5",children:[(0,s.jsxs)("div",{className:"space-y-3 pb-2",children:[(0,s.jsx)(r.H5,{children:"Switch to correct wallet"}),(0,s.jsx)("p",{children:"You need to switch to correct wallet to manage this profile. Please switch to the correct wallet to manage this profile."})]}),(0,s.jsx)(n.A,{})]})},861:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var s=a(65723),r=a(19429),n=a(3817),l=a(36018),i=a(91983),o=a(22155),c=a(45199),d=a(51673);let u=e=>{let{items:t}=e,{pathname:a}=(0,i.useRouter)(),u=t.filter(e=>(null==e?void 0:e.enabled)!==!1),[m,x]=(0,o.useState)(u.find(e=>e.url===a)||u[0]);return(0,s.jsx)("div",{className:"mb-4 space-y-2",children:(0,s.jsx)(r.W1,{as:"div",className:"relative",children:e=>{let{open:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.IU,{className:(0,l.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":t,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!t}),children:[m.icon,(0,s.jsx)("div",{children:m.title})]}),(0,s.jsx)(c.A,{children:(0,s.jsx)(r.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,s.jsx)(n.Zp,{forceRounded:!0,children:u.map(e=>(0,s.jsxs)(r.Dr,{as:d.S,className:t=>{let{focus:a}=t;return(0,l.A)({"dropdown-active":a||m===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>x(e),children:[e.icon,(0,s.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var m=a(7606),x=a.n(m);let h=e=>{let{children:t,current:a,url:r}=e;return(0,s.jsx)(x(),{className:(0,l.A)({"font-bold text-black dark:text-white":a},{"bg-gray-300 dark:bg-gray-300/20":a},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:r,children:t})},g=e=>{let{items:t}=e,{pathname:a}=(0,i.useRouter)(),r=t.filter(e=>!1!==e.enabled);return(0,s.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:r.map(e=>(0,s.jsxs)(h,{current:a===e.url||!0===e.active,url:e.url,children:[e.icon,(0,s.jsx)("div",{children:e.title})]},e.title))})},v=e=>{let{items:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsx)(g,{items:t})}),(0,s.jsx)("div",{className:"block lg:hidden",children:(0,s.jsx)(u,{items:t})})]})}},77347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>el});var s=a(65723),r=a(45507),n=a(62707),l=a(48457),i=a(56495),o=a(99777),c=a(74716),d=a(3817),u=a(22155),m=a(84865),x=a(86051),h=a(95533),g=a(1861),v=a(27623),j=a(21811),f=a(56388),A=a(90098),p=a(77683),w=a(9094),y=a(14834),N=a(38700),b=a(46997),E=a(73838),k=a(12607),M=a(79486),S=a(76277),C=a(66900);let R=e=>{let{setShowAddManagerModal:t}=e,{currentAccount:a}=(0,m.E)(),{isSuspended:r}=(0,E.J)(),{decrementLensHubOnchainSigNonce:n,incrementLensHubOnchainSigNonce:l,lensHubOnchainSigNonce:x}=(0,k._)(),[h,g]=(0,u.useState)(""),[R,_]=(0,u.useState)(!1),G=(0,b.A)(),{canBroadcast:z}=(0,p.A)(a),L=e=>{"RelayError"!==e&&(_(!1),t(!1),g(""),N.Ay.success("Manager added"),i.s.track(c.yy.MANAGER.ADD_MANAGER))},D=e=>{_(!1),(0,j.A)(e)},{signTypedDataAsync:O}=(0,S.v)({mutation:{onError:D}}),{writeContractAsync:P}=(0,C.x)({mutation:{onError:e=>{D(e),n()},onSuccess:()=>{L(),l()}}}),B=async e=>{let{args:t}=e;return await P({abi:f.sh,address:o.z1,args:t,functionName:"changeDelegatedExecutorsConfig"})},[q]=(0,y.Mbt)({onCompleted:e=>{let{broadcastOnchain:t}=e;return L(t.__typename)}}),[F]=(0,y._QS)({onCompleted:async e=>{let{createChangeProfileManagersTypedData:t}=e,{id:a,typedData:s}=t,{approvals:r,configNumber:n,delegatedExecutors:i,delegatorProfileId:o,switchToGivenConfig:c}=s.value,d=[o,i,r,n,c];await G();try{if(z){let e=await O((0,w.A)(s)),{data:t}=await q({variables:{request:{id:a,signature:e}}});if((null==t?void 0:t.broadcastOnchain.__typename)==="RelayError")return await B({args:d});l();return}return await B({args:d})}catch(e){return await B({args:d})}},onError:D}),H=async()=>{if(!a)return N.Ay.error(A.I.SignWallet);if(r)return N.Ay.error(A.I.Suspended);try{return _(!0),await F({variables:{options:{overrideSigNonce:x},request:{changeManagers:[{action:y.rw6.Add,address:h}]}}})}catch(e){D(e)}};return(0,s.jsxs)("div",{className:"space-y-4 p-5",children:[(0,s.jsx)(v.A,{error:h.length>0&&!(0,M.P)(h),hideDropdown:(0,M.P)(h),onChange:e=>g(e.target.value),onAccountSelected:e=>g(e.ownedBy.address),placeholder:"".concat(o.$D," or wagmi"),value:h}),(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)(d.$n,{className:"ml-auto",disabled:R||!(0,M.P)(h),onClick:H,type:"submit",children:"Add manager"})})]})};var _=a(96898),G=a(22690),z=a(62231),L=a(98345);let D=e=>{var t;let{managed:a=!1}=e,{address:r}=(0,x.F)(),n={for:r},l={for:r,hiddenFilter:a?y.vCg.NoneHidden:y.vCg.HiddenOnly},{data:i,error:o,fetchMore:c,loading:m,refetch:h}=(0,y.DPL)({variables:{lastLoggedInProfileRequest:n,profilesManagedRequest:l}}),[g,{loading:v}]=(0,y.xu3)(),[f,{loading:A}]=(0,y.qhf)();(0,u.useEffect)(()=>{h()},[a,h]);let p=null==i?void 0:i.profilesManaged.items,w=null==i?void 0:null===(t=i.profilesManaged)||void 0===t?void 0:t.pageInfo,b=null==w?void 0:w.next,E=async()=>{b&&await c({variables:{lastLoggedInProfileRequest:n,profilesManagedRequest:{...l,cursor:w.next}}})};if(m)return(0,s.jsx)(_.A,{className:"my-10"});if(o)return(0,s.jsx)(d.Kw,{error:o,title:a?"Failed to load managed profiles":"Failed to load un-managed profiles"});if((null==p?void 0:p.length)===0)return(0,s.jsx)(d.pp,{hideCard:!0,icon:(0,s.jsx)(z.A,{className:"size-8"}),message:a?"You are not managing any profiles!":"You are not un-managing any profiles!"});let k=async e=>{try{if(a)return await g({variables:{request:{profileId:e}}}),N.Ay.success("Account is now un-managed"),h();return await f({variables:{request:{profileId:e}}}),N.Ay.success("Account is now managed"),h()}catch(e){(0,j.A)(e)}};return(0,s.jsx)(L.aY,{computeItemKey:(e,t)=>"".concat(t.id,"-").concat(e),data:p,endReached:E,itemContent:(e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsx)(G.A,{hideFollowButton:!0,hideUnfollowButton:!0,account:t}),r!==t.ownedBy.address&&(0,s.jsx)(d.$n,{disabled:v||A,onClick:()=>k(t.id),outline:!0,size:"sm",variant:"danger",children:a?"Un-manage":"Manage"})]}),useWindowScroll:!0})},O=()=>(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsx)("div",{className:"mx-5 mb-5",children:"Profiles under your oversight and management."}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("div",{className:"mx-5 my-3",children:(0,s.jsx)(D,{managed:!0})})]}),P=()=>(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsx)("div",{className:"mx-5 mb-5",children:"Profiles under your oversight but not under your management."}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("div",{className:"mx-5 my-3",children:(0,s.jsx)(D,{})})]});var B=a(21792),q=a(51581);let F=u.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?u.createElement("title",{id:s},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))});var H=a(49015),I=a(94002),V=a(60907),U=a(7606),W=a.n(U),Z=a(45571);let K=async e=>{try{let{data:t}=await Z.A.post("".concat(o.uI,"/ens"),{addresses:e.map(e=>e.split("/")[0])});return t}catch(e){return[]}};var T=a(68243);let $=e=>{let{address:t,enabled:a}=e,s=async()=>{let{result:e}=await K([t]);return e[0].length?e[0]:(0,H.A)(t)},{data:r,error:n,isLoading:l}=(0,T.I)({enabled:a,queryFn:s,queryKey:["getEnsDetails",t]});return{ens:r,error:n,loading:l}};var Y=a(48378);let J=e=>{let{address:t}=e,{ens:a,loading:r}=$({address:t,enabled:!!t}),n=r?(0,H.A)(t):a||(0,H.A)(t);return(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)(W(),{className:"flex items-center space-x-3",href:"".concat(o.s_,"/address/").concat(t),rel:"noreferrer noopener",target:"_blank",children:[(0,s.jsx)(d._V,{alt:t,className:"size-10 rounded-full border bg-gray-200",height:40,onError:e=>{e.currentTarget.src=(0,I.A)(t)},src:(0,V.A)((0,I.A)(t)),width:40}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{children:n}),(0,s.jsx)(F,{className:"size-4"})]}),(0,s.jsx)(Y.A,{className:"text-sm",slug:(0,H.A)(t)})]})]})})},Q=e=>{let{address:t}=e,{data:a,loading:r}=(0,y.kuG)({skip:!t,variables:{request:{for:t}}});return r?(0,s.jsx)(q.A,{}):(null==a?void 0:a.defaultProfile)?(0,s.jsx)(G.A,{hideFollowButton:!0,hideUnfollowButton:!0,account:a.defaultProfile}):(0,s.jsx)(J,{address:t})};var X=a(67378);let ee=()=>{var e;let{currentAccount:t}=(0,m.E)(),{isSuspended:a}=(0,E.J)(),{incrementLensHubOnchainSigNonce:r,lensHubOnchainSigNonce:n}=(0,k._)(),[l,x]=(0,u.useState)(null),h=(0,b.A)(),{cache:g}=(0,B.m)(),{canBroadcast:v}=(0,p.A)(t),M=e=>{"RelayError"!==e&&"LensProfileManagerRelayError"!==e&&(g.evict({id:"ProfilesManagedResult:".concat(l)}),N.Ay.success("Manager removed"),i.s.track(c.yy.MANAGER.REMOVE_MANAGER))},R=e=>{(0,j.A)(e),x(null)},G={for:null==t?void 0:t.id},{data:z,error:D,fetchMore:O,loading:P}=(0,y.dpG)({variables:{request:G}}),{signTypedDataAsync:q}=(0,S.v)({mutation:{onError:R}}),{writeContractAsync:F}=(0,C.x)({mutation:{onError:R,onSuccess:()=>M()}}),H=async e=>{let{args:t}=e;return await F({abi:f.sh,address:o.z1,args:t,functionName:"changeDelegatedExecutorsConfig"})},[I]=(0,y.Mbt)({onCompleted:e=>{let{broadcastOnchain:t}=e;return M(t.__typename)}}),[V]=(0,y._QS)({onCompleted:async e=>{let{createChangeProfileManagersTypedData:t}=e,{id:a,typedData:s}=t,{approvals:n,configNumber:l,delegatedExecutors:i,delegatorProfileId:o,switchToGivenConfig:c}=s.value,d=[o,i,n,l,c];if(await h(),r(),v){let e=await q((0,w.A)(s)),{data:t}=await I({variables:{request:{id:a,signature:e}}});return(null==t?void 0:t.broadcastOnchain.__typename)==="RelayError"?await H({args:d}):void 0}return await H({args:d})},onError:R}),U=async e=>{if(a)return N.Ay.error(A.I.Suspended);try{return x(e),await V({variables:{options:{overrideSigNonce:n},request:{changeManagers:[{action:y.rw6.Remove,address:e}]}}})}catch(e){R(e)}},W=null==z?void 0:z.profileManagers.items.filter(e=>!e.isLensManager),Z=null==z?void 0:null===(e=z.profileManagers)||void 0===e?void 0:e.pageInfo,K=null==Z?void 0:Z.next,T=async()=>{K&&await O({variables:{request:{...G,cursor:null==Z?void 0:Z.next}}})};return P?(0,s.jsx)(_.A,{className:"my-10"}):D?(0,s.jsx)(d.Kw,{error:D,title:"Failed to load profile managers"}):(null==W?void 0:W.length)===0?(0,s.jsx)(d.pp,{hideCard:!0,icon:(0,s.jsx)(X.A,{className:"size-8"}),message:"No profile managers added!"}):(0,s.jsx)(L.aY,{computeItemKey:(e,t)=>"".concat(t.address,"-").concat(e),data:W,endReached:T,itemContent:(e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsx)(Q,{address:t.address}),(0,s.jsx)(d.$n,{disabled:l===t.address,onClick:()=>U(t.address),outline:!0,children:"Remove"})]}),useWindowScroll:!0})},et=()=>(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsx)("div",{className:"mx-5 mb-5",children:"Accounts with control over your profile can act on your behalf."}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("div",{className:"mx-5 my-3",children:(0,s.jsx)(ee,{})})]});var ea=function(e){return e.MANAGED="MANAGED",e.MANAGERS="MANAGERS",e.UNMANAGED="UNMANAGED",e}(ea||{});let es=()=>{let[e,t]=(0,u.useState)("MANAGERS"),[a,r]=(0,u.useState)(!1);return(0,s.jsxs)(d.Zp,{className:"linkify space-y-2",children:[(0,s.jsxs)("div",{className:"mx-5 mt-5 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.KM,{active:"MANAGERS"===e,name:"Managers",onClick:()=>t("MANAGERS"),showOnSm:!0}),(0,s.jsx)(d.KM,{active:"MANAGED"===e,name:"Managed",onClick:()=>t("MANAGED"),showOnSm:!0}),(0,s.jsx)(d.KM,{active:"UNMANAGED"===e,name:"Un-managed",onClick:()=>t("UNMANAGED"),showOnSm:!0})]}),"MANAGERS"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.$n,{icon:(0,s.jsx)(g.A,{className:"size-4"}),onClick:()=>r(!0),children:"Add manager"}),(0,s.jsx)(d.aF,{onClose:()=>r(!1),show:a,title:"Add Profile Manager",children:(0,s.jsx)(R,{setShowAddManagerModal:r})})]})]}),"MANAGERS"===e&&(0,s.jsx)(et,{}),"MANAGED"===e&&(0,s.jsx)(O,{}),"UNMANAGED"===e&&(0,s.jsx)(P,{})]})};var er=a(51706);let en=()=>{let{currentAccount:e}=(0,m.E)(),{canUseSignless:t}=(0,p.A)(e);return(0,s.jsxs)(d.Zp,{children:[(0,s.jsx)(d.aR,{body:"You can enable Lens manager to interact with ".concat(o.C3," without\n        signing any of your transactions."),title:t?"Disable signless transactions":"Signless transactions"}),(0,s.jsx)("div",{className:"m-5",children:(0,s.jsx)(er.A,{})})]})},el=()=>{let{currentAccount:e}=(0,m.E)(),{address:t}=(0,x.F)(),a=(null==e?void 0:e.ownedBy.address)!==t;return((0,u.useEffect)(()=>{i.s.track(c.zQ,{page:"settings",subpage:"manager"})},[]),e)?(0,s.jsxs)(d.JT,{children:[(0,s.jsx)(r.A,{title:"Manager • ".concat(o.C3)}),(0,s.jsx)(d.an,{children:(0,s.jsx)(h.A,{})}),(0,s.jsx)(d.$l,{className:"space-y-5",children:a?(0,s.jsx)(l.A,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en,{}),(0,s.jsx)(es,{})]})})]}):(0,s.jsx)(n.A,{})}},9202:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(22155);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"}))})},80108:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(22155);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))})},1861:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(22155);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},67378:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(22155);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(57218)),_N_E=e.O()}]);