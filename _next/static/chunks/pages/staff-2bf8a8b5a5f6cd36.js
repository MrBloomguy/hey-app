(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4154],{22413:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/staff",function(){return t(39131)}])},861:(e,s,t)=>{"use strict";t.d(s,{A:()=>p});var r=t(65723),a=t(19429),l=t(3817),i=t(36018),n=t(91983),d=t(22155),c=t(45199),o=t(51673);let m=e=>{let{items:s}=e,{pathname:t}=(0,n.useRouter)(),m=s.filter(e=>(null==e?void 0:e.enabled)!==!1),[x,h]=(0,d.useState)(m.find(e=>e.url===t)||m[0]);return(0,r.jsx)("div",{className:"mb-4 space-y-2",children:(0,r.jsx)(a.W1,{as:"div",className:"relative",children:e=>{let{open:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.IU,{className:(0,i.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":s,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!s}),children:[x.icon,(0,r.jsx)("div",{children:x.title})]}),(0,r.jsx)(c.A,{children:(0,r.jsx)(a.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,r.jsx)(l.Zp,{forceRounded:!0,children:m.map(e=>(0,r.jsxs)(a.Dr,{as:o.S,className:s=>{let{focus:t}=s;return(0,i.A)({"dropdown-active":t||x===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>h(e),children:[e.icon,(0,r.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var x=t(7606),h=t.n(x);let u=e=>{let{children:s,current:t,url:a}=e;return(0,r.jsx)(h(),{className:(0,i.A)({"font-bold text-black dark:text-white":t},{"bg-gray-300 dark:bg-gray-300/20":t},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:a,children:s})},j=e=>{let{items:s}=e,{pathname:t}=(0,n.useRouter)(),a=s.filter(e=>!1!==e.enabled);return(0,r.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:a.map(e=>(0,r.jsxs)(u,{current:t===e.url||!0===e.active,url:e.url,children:[e.icon,(0,r.jsx)("div",{children:e.title})]},e.title))})},p=e=>{let{items:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)(j,{items:s})}),(0,r.jsx)("div",{className:"block lg:hidden",children:(0,r.jsx)(m,{items:s})})]})}},36790:(e,s,t)=>{"use strict";t.d(s,{A:()=>h});var r=t(65723),a=t(861),l=t(22155);let i=l.forwardRef(function(e,s){let{title:t,titleId:r,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?l.createElement("title",{id:r},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))});var n=t(73180),d=t(26952),c=t(73574),o=t(54299),m=t(97638);let x=[{icon:(0,r.jsx)(i,{className:"size-4"}),title:"Overview",url:"/staff"},{icon:(0,r.jsx)(n.A,{className:"size-4"}),title:"Revenue",url:"/staff/revenue"},{icon:(0,r.jsx)(d.A,{className:"size-4"}),title:"Stats",url:"/staff/stats"},{icon:(0,r.jsx)(c.A,{className:"size-4"}),title:"Users",url:"/staff/users"},{icon:(0,r.jsx)(n.A,{className:"size-4"}),title:"Tokens",url:"/staff/tokens"},{icon:(0,r.jsx)(o.A,{className:"size-4"}),title:"Permissions",url:"/staff/permissions"},{icon:(0,r.jsx)(m.A,{className:"size-4"}),title:"Signup",url:"/staff/signup"}],h=()=>(0,r.jsx)("div",{className:"mb-4 px-3 sm:px-0",children:(0,r.jsx)(a.A,{items:x})})},39131:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var r=t(65723),a=t(45507),l=t(56495),i=t(99777),n=t(88253),d=t(74716),c=t(3817),o=t(17702),m=t(22155),x=t(1615),h=t(84865),u=t(36790),j=t(96898),p=t(69456),v=t(14834),b=t(68243),f=t(45571),g=t(18195);let N=e=>{let{activeUsers:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)(c.aR,{title:"Daily Active Users"}),(0,r.jsx)("div",{className:"m-5",children:(0,r.jsxs)("table",{className:"w-full border-x border-t",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("th",{className:"border-r px-2 text-left",children:"Date"}),(0,r.jsx)("th",{className:"border-r px-2 text-right",children:"Active users"}),(0,r.jsx)("th",{className:"border-r px-2 text-right",children:"Total events"}),(0,r.jsx)("th",{className:"px-2 text-right",children:"Total impressions"})]})}),(0,r.jsx)("tbody",{children:s.map((e,s)=>(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:"border-r px-2",children:(0,g.A)(e.date)}),(0,r.jsx)("td",{className:"border-r px-2 text-right",children:e.dau}),(0,r.jsx)("td",{className:"border-r px-2 text-right",children:e.events}),(0,r.jsx)("td",{className:"px-2 text-right",children:e.impressions})]},s))})]})})]})};var y=t(55654),k=t(37440),w=t(3156),A=t.n(w);y.t1.register(y.PP,y.kc,y.FN,y.No,y.hE,y.m_,y.dN,y.s$);let _=e=>{let{eventsToday:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)(c.aR,{title:"Events Today"}),(0,r.jsx)("div",{className:"m-5",children:(0,r.jsx)(k.N1,{data:{datasets:[{backgroundColor:A().blue[100],borderColor:A().blue[500],data:s.map(e=>e.count),fill:!0,label:"Events"}],labels:s.map(e=>(0,g.A)(e.timestamp,"hh:mm"))},options:{plugins:{legend:{display:!1}},responsive:!0}})})]})};y.t1.register(y.PP,y.kc,y.FN,y.No,y.hE,y.m_,y.dN,y.s$);let T=e=>{let{impressionsToday:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)(c.aR,{title:"Impressions Today"}),(0,r.jsx)("div",{className:"m-5",children:(0,r.jsx)(k.N1,{data:{datasets:[{backgroundColor:A().blue[100],borderColor:A().blue[500],data:s.map(e=>e.count),fill:!0,label:"Impressions"}],labels:s.map(e=>(0,g.A)(e.timestamp,"hh:mm"))},options:{plugins:{legend:{display:!1}},responsive:!0}})})]})},C=e=>{let{referrers:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)(c.aR,{title:"Referrers"}),(0,r.jsx)("div",{className:"m-5",children:(0,r.jsxs)("table",{className:"w-full border-x border-t",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("th",{className:"border-r px-2 text-left",children:"Referrer"}),(0,r.jsx)("th",{className:"px-2 text-right",children:"Count"})]})}),(0,r.jsx)("tbody",{children:s.map((e,s)=>(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:"border-r px-2",children:e.referrer}),(0,r.jsx)("td",{className:"px-2 text-right",children:e.count})]},s))})]})})]})},E=()=>{let[e,s]=(0,m.useState)(0),t=async()=>(await f.A.get("".concat(i.uI,"/internal/leafwatch/stats"),{headers:(0,p.r)()})).data,{data:a,error:l,isLoading:n}=(0,b.I)({queryFn:t,queryKey:["getStats"],refetchInterval:5e3});if((0,v.$Ur)({fetchPolicy:"no-cache",notifyOnNetworkStatusChange:!0,onCompleted:e=>s(Number.parseInt(e.exploreProfiles.items[0].id)),pollInterval:5e3,variables:{request:{limit:v.gTn.Ten,orderBy:v.R3C.LatestCreated}}}),n)return(0,r.jsx)(j.A,{className:"my-10",message:"Loading stats..."});if(l)return(0,r.jsx)(c.Kw,{error:l,title:"Failed to load stats"});if(!a)return(0,r.jsx)("div",{className:"m-5",children:"No data..."});let{events:d,impressions:o}=a;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.aR,{title:"Events"}),(0,r.jsxs)("div",{className:"m-5 grid grid-cols-2 gap-2 sm:grid-cols-3",children:[(0,r.jsx)(c.B1,{count:d.last_1_hour,name:"Last 1 hour"}),(0,r.jsx)(c.B1,{count:d.today,name:"Today"}),(0,r.jsx)(c.B1,{count:d.yesterday,name:"Yesterday"}),(0,r.jsx)(c.B1,{count:d.this_week,name:"This week"}),(0,r.jsx)(c.B1,{count:d.this_month,name:"This month"}),(0,r.jsx)(c.B1,{count:d.all_time,name:"All time"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)(c.aR,{title:"Impressions"}),(0,r.jsxs)("div",{className:"m-5 grid grid-cols-2 gap-2 sm:grid-cols-3",children:[(0,r.jsx)(c.B1,{count:o.last_1_hour,name:"Last 1 hour"}),(0,r.jsx)(c.B1,{count:o.today,name:"Today"}),(0,r.jsx)(c.B1,{count:o.yesterday,name:"Yesterday"}),(0,r.jsx)(c.B1,{count:o.this_week,name:"This week"}),(0,r.jsx)(c.B1,{count:o.this_month,name:"This month"}),(0,r.jsx)(c.B1,{count:o.all_time,name:"All time"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)(c.aR,{title:"Others"}),(0,r.jsx)("div",{className:"m-5 grid grid-cols-2 gap-2 sm:grid-cols-3",children:(0,r.jsx)(c.B1,{count:e.toString(),name:"Total Profiles"})})]}),(0,r.jsx)(_,{eventsToday:a.eventsToday}),(0,r.jsx)(T,{impressionsToday:a.impressionsToday}),(0,r.jsx)(N,{activeUsers:a.dau}),(0,r.jsx)(C,{referrers:a.referrers})]})};var R=t(7606),B=t.n(R);let L=e=>{let{link:s,title:t}=e;return(0,r.jsx)("li",{children:(0,r.jsx)(B(),{className:"underline",href:s,rel:"noreferrer",target:"_blank",children:t})})},F=()=>(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-x-2 md:gap-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mb-3 font-bold",children:"Monitoring \uD83D\uDCC8"}),(0,r.jsxs)("ul",{className:"mt-0 mb-4 list-disc space-y-1 pl-5",children:[(0,r.jsx)(L,{link:"https://hey.metabaseapp.com/public/dashboard/3ee79f5b-07d7-43d7-9237-58c6442a1ad8#refresh=2",title:"Leafwatch Overview"}),(0,r.jsx)(L,{link:"https://hey.metabaseapp.com/public/dashboard/060b9379-028c-4bb2-8d93-7927fcfed024#refresh=2",title:"Leafwatch Impressions"}),(0,r.jsx)(L,{link:"https://railway.app/project/659c7f82-0d18-4593-807f-5348c495e3ef/logs",title:"Live Railway Logs"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mb-4 font-bold",children:"Other helpful links \uD83C\uDF31"}),(0,r.jsxs)("ul",{className:"mt-0 mb-3 list-disc space-y-1 pl-5",children:[(0,r.jsx)(L,{link:"https://railway.app/project/659c7f82-0d18-4593-807f-5348c495e3ef",title:"Railway"}),(0,r.jsx)(L,{link:"https://vercel.com/heyxyz/web/deployments",title:"Vercel"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"mb-4 font-bold",children:"Forms \uD83D\uDCDC"}),(0,r.jsx)("ul",{className:"mt-0 mb-3 list-disc space-y-1 pl-5",children:(0,r.jsx)(L,{link:"https://hey.xyz/-/token-request",title:"Token Allowlist Request"})})]})]}),D=()=>{let{currentAccount:e}=(0,h.E)(),s=(0,o._P)(n.T.Staff);return((0,m.useEffect)(()=>{l.s.track(d.zQ,{page:"staff-tools",subpage:"overview"})},[]),e&&s)?(0,r.jsxs)(c.JT,{children:[(0,r.jsx)(a.A,{title:"Staff Tools • Overview • ".concat(i.C3)}),(0,r.jsx)(c.an,{children:(0,r.jsx)(u.A,{})}),(0,r.jsxs)(c.$l,{className:"space-y-5",children:[(0,r.jsx)(c.Zp,{children:(0,r.jsx)(E,{})}),(0,r.jsx)(c.Zp,{className:"p-5",children:(0,r.jsx)(F,{})})]})]}):(0,r.jsx)(x.default,{})}},54299:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(22155);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))})},97638:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(22155);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))})}},e=>{var s=s=>e(e.s=s);e.O(0,[5352,7780,636,6593,8792],()=>s(22413)),_N_E=e.O()}]);