(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6443],{69762:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/staff/tokens",function(){return t(90294)}])},861:(e,s,t)=>{"use strict";t.d(s,{A:()=>f});var r=t(65723),a=t(19429),l=t(3817),i=t(36018),n=t(91983),c=t(22155),d=t(45199),o=t(51673);let m=e=>{let{items:s}=e,{pathname:t}=(0,n.useRouter)(),m=s.filter(e=>(null==e?void 0:e.enabled)!==!1),[x,u]=(0,c.useState)(m.find(e=>e.url===t)||m[0]);return(0,r.jsx)("div",{className:"mb-4 space-y-2",children:(0,r.jsx)(a.W1,{as:"div",className:"relative",children:e=>{let{open:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.IU,{className:(0,i.A)("flex w-full items-center space-x-2 rounded-xl border border-gray-300 bg-white px-3 py-2 text-left outline-none focus:border-gray-500 focus:ring-gray-400 dark:border-gray-700 dark:bg-gray-800",{"bg-gray-200 text-black dark:bg-gray-800 dark:text-white":s,"text-gray-700 hover:bg-gray-200 hover:text-black dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white":!s}),children:[x.icon,(0,r.jsx)("div",{children:x.title})]}),(0,r.jsx)(d.A,{children:(0,r.jsx)(a.c,{className:"absolute z-10 mt-2 w-full",static:!0,children:(0,r.jsx)(l.Zp,{forceRounded:!0,children:m.map(e=>(0,r.jsxs)(a.Dr,{as:o.S,className:s=>{let{focus:t}=s;return(0,i.A)({"dropdown-active":t||x===e},"m-2 flex items-center space-x-2 rounded-lg p-2")},href:e.url,onClick:()=>u(e),children:[e.icon,(0,r.jsx)("div",{children:e.title})]},e.url))})})})]})}})})};var x=t(7606),u=t.n(x);let h=e=>{let{children:s,current:t,url:a}=e;return(0,r.jsx)(u(),{className:(0,i.A)({"font-bold text-black dark:text-white":t},{"bg-gray-300 dark:bg-gray-300/20":t},"hover:bg-gray-300 dark:hover:bg-gray-300/30","hover:text-black hover:dark:text-white","flex items-center space-x-2 rounded-lg px-3 py-2"),href:a,children:s})},j=e=>{let{items:s}=e,{pathname:t}=(0,n.useRouter)(),a=s.filter(e=>!1!==e.enabled);return(0,r.jsx)("div",{className:"mb-4 space-y-2 px-3 sm:px-0",children:a.map(e=>(0,r.jsxs)(h,{current:t===e.url||!0===e.active,url:e.url,children:[e.icon,(0,r.jsx)("div",{children:e.title})]},e.title))})},f=e=>{let{items:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)(j,{items:s})}),(0,r.jsx)("div",{className:"block lg:hidden",children:(0,r.jsx)(m,{items:s})})]})}},36790:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var r=t(65723),a=t(861),l=t(22155);let i=l.forwardRef(function(e,s){let{title:t,titleId:r,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?l.createElement("title",{id:r},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))});var n=t(73180),c=t(26952),d=t(73574),o=t(54299),m=t(97638);let x=[{icon:(0,r.jsx)(i,{className:"size-4"}),title:"Overview",url:"/staff"},{icon:(0,r.jsx)(n.A,{className:"size-4"}),title:"Revenue",url:"/staff/revenue"},{icon:(0,r.jsx)(c.A,{className:"size-4"}),title:"Stats",url:"/staff/stats"},{icon:(0,r.jsx)(d.A,{className:"size-4"}),title:"Users",url:"/staff/users"},{icon:(0,r.jsx)(n.A,{className:"size-4"}),title:"Tokens",url:"/staff/tokens"},{icon:(0,r.jsx)(o.A,{className:"size-4"}),title:"Permissions",url:"/staff/permissions"},{icon:(0,r.jsx)(m.A,{className:"size-4"}),title:"Signup",url:"/staff/signup"}],u=()=>(0,r.jsx)("div",{className:"mb-4 px-3 sm:px-0",children:(0,r.jsx)(a.A,{items:x})})},90294:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var r=t(65723),a=t(45507),l=t(56495),i=t(99777),n=t(88253),c=t(74716),d=t(3817),o=t(17702),m=t(22155),x=t(1615),u=t(84865),h=t(36790),j=t(96898),f=t(21811),g=t(69456),p=t(73180),v=t(2448),k=t(68243),b=t(45571),y=t(38700),N=t(77862),w=t(4180);let A=(0,w.Ik)({contractAddress:(0,w.Yj)().min(1).max(42).regex(N.G.ethereumAddress,{message:"Invalid Ethereum address"}),decimals:(0,w.Yj)().min(1,{message:"Decimals is required"}),name:(0,w.Yj)().min(1,{message:"Name is required"}),symbol:(0,w.Yj)().min(1,{message:"Symbol is required"})}),E=e=>{let{setShowCreateModal:s,setTokens:t,tokens:a}=e,[n,o]=(0,m.useState)(!1),x=(0,d.Lk)({schema:A}),u=async e=>{let{contractAddress:r,decimals:n,name:d,symbol:m}=e;try{o(!0);let{data:e}=await b.A.post("".concat(i.uI,"/internal/tokens/create"),{contractAddress:r,decimals:Number.parseInt(n),name:d,symbol:m},{headers:(0,g.r)()});t([...a,null==e?void 0:e.result]),s(!1),y.Ay.success("Token created"),l.s.track(c.eY.TOKENS.CREATE)}catch(e){(0,f.A)(e)}finally{o(!1)}};return(0,r.jsxs)(d.lV,{className:"m-5 space-y-4",form:x,onSubmit:u,children:[(0,r.jsx)(d.pd,{className:"text-sm",placeholder:"Name",type:"text",...x.register("name")}),(0,r.jsx)(d.pd,{className:"text-sm",placeholder:"Symbol",type:"text",...x.register("symbol")}),(0,r.jsx)(d.pd,{className:"text-sm",max:"30",min:"0",placeholder:"1",type:"number",...x.register("decimals")}),(0,r.jsx)(d.pd,{className:"text-sm",placeholder:"Contract Address",type:"text",...x.register("contractAddress")}),(0,r.jsx)(d.$n,{disabled:n,type:"submit",children:"Create"})]})},C=()=>{let[e,s]=(0,m.useState)(!1),[t,a]=(0,m.useState)([]),{error:n,isLoading:o}=(0,k.I)({queryFn:()=>(0,v.A)().then(e=>(a(e),e)),queryKey:[v.B]}),x=async e=>{try{await b.A.post("".concat(i.uI,"/internal/tokens/delete"),{id:e},{headers:(0,g.r)()}),a(t.filter(s=>s.id!==e)),y.Ay.success("Token deleted"),l.s.track(c.eY.TOKENS.DELETE)}catch(e){(0,f.A)(e)}};return(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-5 p-5",children:[(0,r.jsx)(d.H5,{children:"Allowed Tokens"}),(0,r.jsx)(d.$n,{onClick:()=>s(!e),children:"Create"})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)("div",{className:"m-5",children:o?(0,r.jsx)(j.A,{className:"my-10",message:"Loading tokens..."}):n?(0,r.jsx)(d.Kw,{error:n,title:"Failed to load tokens"}):t.length?(0,r.jsx)("div",{className:"space-y-6",children:null==t?void 0:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:e.name})," (",e.symbol,")",(0,r.jsxs)("div",{className:"mt-2 text-sm",children:[(0,r.jsx)("span",{className:"ld-text-gray-500",children:"Decimals: "}),e.decimals]}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"ld-text-gray-500",children:"Contract: "}),e.contractAddress]})]}),(0,r.jsx)(d.$n,{onClick:()=>x(e.id),outline:!0,size:"sm",variant:"danger",children:"Delete"})]},e.id))}):(0,r.jsx)(d.pp,{hideCard:!0,icon:(0,r.jsx)(p.A,{className:"size-8"}),message:(0,r.jsx)("span",{children:"No tokens found"})})}),(0,r.jsx)(d.aF,{onClose:()=>s(!1),show:e,title:"Create token",children:(0,r.jsx)(E,{setShowCreateModal:s,setTokens:a,tokens:t})})]})},S=()=>{let{currentAccount:e}=(0,u.E)(),s=(0,o._P)(n.T.Staff);return((0,m.useEffect)(()=>{l.s.track(c.zQ,{page:"staff-tools",subpage:"tokens"})},[]),e&&s)?(0,r.jsxs)(d.JT,{children:[(0,r.jsx)(a.A,{title:"Staff Tools • Tokens • ".concat(i.C3)}),(0,r.jsx)(d.an,{children:(0,r.jsx)(h.A,{})}),(0,r.jsx)(d.$l,{children:(0,r.jsx)(C,{})})]}):(0,r.jsx)(x.default,{})}},54299:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(22155);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))})},97638:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(22155);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))})}},e=>{var s=s=>e(e.s=s);e.O(0,[636,6593,8792],()=>s(69762)),_N_E=e.O()}]);